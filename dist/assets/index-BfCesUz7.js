var Ut=Object.defineProperty,Vt=Object.defineProperties;var Wt=Object.getOwnPropertyDescriptors;var De=Object.getOwnPropertySymbols;var dt=Object.prototype.hasOwnProperty,mt=Object.prototype.propertyIsEnumerable;var qt=(s,t)=>(t=Symbol[s])?t:Symbol.for("Symbol."+s);var ct=(s,t,a)=>t in s?Ut(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a,g=(s,t)=>{for(var a in t||(t={}))dt.call(t,a)&&ct(s,a,t[a]);if(De)for(var a of De(t))mt.call(t,a)&&ct(s,a,t[a]);return s},j=(s,t)=>Vt(s,Wt(t));var Ve=(s,t)=>{var a={};for(var r in s)dt.call(s,r)&&t.indexOf(r)<0&&(a[r]=s[r]);if(s!=null&&De)for(var r of De(s))t.indexOf(r)<0&&mt.call(s,r)&&(a[r]=s[r]);return a};var Gt=(s,t)=>()=>(t||s((t={exports:{}}).exports,t),t.exports);var V=(s,t,a)=>new Promise((r,n)=>{var c=x=>{try{l(a.next(x))}catch(y){n(y)}},m=x=>{try{l(a.throw(x))}catch(y){n(y)}},l=x=>x.done?r(x.value):Promise.resolve(x.value).then(c,m);l((a=a.apply(s,t)).next())}),Ie=function(s,t){this[0]=s,this[1]=t},ut=(s,t,a)=>{var r=(m,l,x,y)=>{try{var S=a[m](l),k=(l=S.value)instanceof Ie,z=S.done;Promise.resolve(k?l[0]:l).then(f=>k?r(m==="return"?m:"next",l[1]?{done:f.done,value:f.value}:f,x,y):x({value:f,done:z})).catch(f=>r("throw",f,x,y))}catch(f){y(f)}},n=m=>c[m]=l=>new Promise((x,y)=>r(m,l,x,y)),c={};return a=a.apply(s,t),c[qt("asyncIterator")]=()=>c,n("next"),n("throw"),n("return"),c};import{r as u,a as Yt,R as Qt}from"./vendor-Dnt-ujzm.js";import{A as Ae,R as Tt,H as At,U as Et,L as Jt,E as Zt,a as Le,C as Qe,b as Xt,G as es,c as ts,d as ss,e as as,X as Mt,f as Pe,P as re,g as at,B as Dt,Q as Oe,F as rs,S as ns,D as ge,h as Ke,M as ls,T as _e,i as le,j as je,k as Ee,l as ye,m as is,n as os,o as It,p as T,q as cs,r as Te,s as zt,t as ds,Z as ms,u as us,v as xs,w as Ot,I as hs,O as gs}from"./ui-Cx1FP8mG.js";import{b as We,a as ke,c as we,d as ys,p as rt,i as nt,f as Pt,e as ps,P as pe}from"./utils-W8PR1BZ5.js";var Ia=Gt(Me=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const m of c.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function a(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerPolicy&&(c.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?c.credentials="include":n.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(n){if(n.ep)return;n.ep=!0;const c=a(n);fetch(n.href,c)}})();var Bt={exports:{}},$e={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fs=u,bs=Symbol.for("react.element"),js=Symbol.for("react.fragment"),vs=Object.prototype.hasOwnProperty,Ns=fs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ks={key:!0,ref:!0,__self:!0,__source:!0};function Rt(s,t,a){var r,n={},c=null,m=null;a!==void 0&&(c=""+a),t.key!==void 0&&(c=""+t.key),t.ref!==void 0&&(m=t.ref);for(r in t)vs.call(t,r)&&!ks.hasOwnProperty(r)&&(n[r]=t[r]);if(s&&s.defaultProps)for(r in t=s.defaultProps,t)n[r]===void 0&&(n[r]=t[r]);return{$$typeof:bs,type:s,key:c,ref:m,props:n,_owner:Ns.current}}$e.Fragment=js;$e.jsx=Rt;$e.jsxs=Rt;Bt.exports=$e;var e=Bt.exports,Je={},xt=Yt;Je.createRoot=xt.createRoot,Je.hydrateRoot=xt.hydrateRoot;const N=S=>{var k=S,{children:s,variant:t="primary",size:a="md",icon:r,iconPosition:n="left",loading:c=!1,fullWidth:m=!1,className:l="",disabled:x}=k,y=Ve(k,["children","variant","size","icon","iconPosition","loading","fullWidth","className","disabled"]);const z="inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",f={primary:"bg-ormen-600 hover:bg-ormen-700 text-white focus:ring-ormen-500 shadow-sm hover:shadow-md",secondary:"bg-gray-600 hover:bg-gray-700 text-white focus:ring-gray-500 shadow-sm hover:shadow-md",success:"bg-success-600 hover:bg-success-700 text-white focus:ring-success-500 shadow-sm hover:shadow-md",warning:"bg-warning-600 hover:bg-warning-700 text-white focus:ring-warning-500 shadow-sm hover:shadow-md",error:"bg-error-600 hover:bg-error-700 text-white focus:ring-error-500 shadow-sm hover:shadow-md",ghost:"bg-transparent hover:bg-gray-100 text-gray-700 focus:ring-gray-500",outline:"border-2 border-ormen-600 text-ormen-600 hover:bg-ormen-50 focus:ring-ormen-500"},D={sm:"px-3 py-1.5 text-sm gap-1.5",md:"px-4 py-2 text-sm gap-2",lg:"px-6 py-3 text-base gap-2.5",xl:"px-8 py-4 text-lg gap-3"},L={sm:"w-4 h-4",md:"w-4 h-4",lg:"w-5 h-5",xl:"w-6 h-6"},E=`
    ${z}
    ${f[t]}
    ${D[a]}
    ${m?"w-full":""}
    ${l}
  `.trim();return e.jsxs("button",j(g({className:E,disabled:x||c},y),{children:[c&&e.jsxs("svg",{className:`animate-spin ${L[a]}`,fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!c&&r&&n==="left"&&e.jsx(r,{className:L[a]}),s,!c&&r&&n==="right"&&e.jsx(r,{className:L[a]})]}))};class Lt extends u.Component{constructor(t){super(t),this.handleReload=()=>{window.location.reload()},this.handleGoHome=()=>{window.location.href="/"},this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t,errorInfo:null}}componentDidCatch(t,a){this.setState({error:t,errorInfo:a})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Ae,{className:"w-10 h-10 text-red-600"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Bir Hata Oluştu"}),e.jsx("p",{className:"text-gray-600",children:"Üzgünüz, beklenmeyen bir hata meydana geldi. Lütfen sayfayı yenileyin veya ana sayfaya dönün."})]}),!1,e.jsxs("div",{className:"space-y-3",children:[e.jsx(N,{variant:"primary",icon:Tt,onClick:this.handleReload,fullWidth:!0,children:"Sayfayı Yenile"}),e.jsx(N,{variant:"outline",icon:At,onClick:this.handleGoHome,fullWidth:!0,children:"Ana Sayfaya Dön"})]}),e.jsxs("div",{className:"mt-8 text-center",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Sorun devam ederse, sistem yöneticisi ile iletişime geçin."}),e.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["ORMEN TEKSTİL V1 - Hata ID: ",Date.now()]})]})]})}):this.props.children}}const F=u.forwardRef((y,x)=>{var S=y,{label:s,error:t,helperText:a,icon:r,iconPosition:n="left",fullWidth:c=!1,className:m=""}=S,l=Ve(S,["label","error","helperText","icon","iconPosition","fullWidth","className"]);const k=`
    block w-full px-3 py-2 border rounded-lg shadow-sm transition-colors duration-200
    focus:outline-none focus:ring-2 focus:ring-ormen-500 focus:border-ormen-500
    disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed
    ${t?"border-error-300 text-error-900 placeholder-error-300 focus:ring-error-500 focus:border-error-500":"border-gray-300 text-gray-900 placeholder-gray-400"}
    ${r&&n==="left"?"pl-10":""}
    ${r&&n==="right"?"pr-10":""}
    ${m}
  `.trim(),z=`
    ${c?"w-full":""}
  `.trim();return e.jsxs("div",{className:z,children:[s&&e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s}),e.jsxs("div",{className:"relative",children:[r&&n==="left"&&e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(r,{className:`w-5 h-5 ${t?"text-error-400":"text-gray-400"}`})}),e.jsx("input",g({ref:x,className:k},l)),r&&n==="right"&&e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:e.jsx(r,{className:`w-5 h-5 ${t?"text-error-400":"text-gray-400"}`})})]}),t&&e.jsx("p",{className:"mt-1 text-sm text-error-600",children:t}),a&&!t&&e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:a})]})});F.displayName="Input";const ws=({onLogin:s})=>{const[t,a]=u.useState({username:"",password:""}),[r,n]=u.useState(!1),[c,m]=u.useState(""),[l,x]=u.useState(!1),y=S=>V(Me,null,function*(){S.preventDefault(),m(""),x(!0),yield new Promise(k=>setTimeout(k,1e3)),t.username==="ORMEN"&&t.password==="ORMEN666-F1"?s(!0):(m("Kullanıcı adı veya şifre hatalı"),s(!1)),x(!1)});return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-ormen-900 via-ormen-800 to-ormen-700 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 opacity-10",children:e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),e.jsxs("div",{className:"w-full max-w-md relative",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:e.jsx("svg",{className:"w-10 h-10 text-ormen-600",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M9.64 7.64c.23-.5.36-1.05.36-1.64 0-2.21-1.79-4-4-4S2 3.79 2 6s1.79 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36c-.5-.23-1.05-.36-1.64-.36-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4c0-.59-.13-1.14-.36-1.64L12 14l2.36 2.36c-.23.5-.36 1.05-.36 1.64 0 2.21 1.79 4 4 4s4-1.79 4-4-1.79-4-4-4c-.59 0-1.14.13-1.64.36L14 12l2.36-2.36c.5.23 1.05.36 1.64.36 2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4c0 .59.13 1.14.36 1.64L12 10 9.64 7.64z"})})}),e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"ORMEN TEKSTİL"}),e.jsx("p",{className:"text-ormen-200",children:"Kartela Yönetim Sistemi V1"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Giriş Yap"}),e.jsx("p",{className:"text-gray-600",children:"V1 sistemine erişim için bilgilerinizi girin"})]}),e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsx("div",{className:"relative",children:e.jsx(F,{label:"Kullanıcı Adı",icon:Et,value:t.username,onChange:S=>a(j(g({},t),{username:S.target.value})),placeholder:"ORMEN",required:!0,fullWidth:!0})}),e.jsxs("div",{className:"relative",children:[e.jsx(F,{label:"Şifre",icon:Jt,type:r?"text":"password",value:t.password,onChange:S=>a(j(g({},t),{password:S.target.value})),placeholder:"••••••••",required:!0,fullWidth:!0}),e.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute right-3 top-8 text-gray-400 hover:text-gray-600",children:r?e.jsx(Zt,{className:"w-5 h-5"}):e.jsx(Le,{className:"w-5 h-5"})})]}),c&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:e.jsx("p",{className:"text-red-600 text-sm",children:c})}),e.jsx(N,{type:"submit",variant:"primary",loading:l,fullWidth:!0,size:"lg",children:l?"Giriş yapılıyor...":"Giriş Yap"})]})]}),e.jsx("div",{className:"text-center mt-8",children:e.jsx("p",{className:"text-ormen-200 text-sm",children:"© 2025 ORMEN TEKSTİL V1 - Tüm hakları saklıdır"})})]})]})},lt=()=>{const[s,t]=u.useState(new Date);u.useEffect(()=>{const n=setInterval(()=>{t(new Date)},1e3);return()=>clearInterval(n)},[]);const a=n=>n.toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),r=n=>n.toLocaleDateString("tr-TR",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return e.jsx("div",{className:"bg-gradient-to-r from-ormen-500 to-ormen-600 text-white px-4 py-2 rounded-lg shadow-md",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"w-4 h-4"}),e.jsx("span",{className:"font-mono text-lg font-bold",children:a(s)})]}),e.jsxs("div",{className:"hidden md:flex items-center space-x-2",children:[e.jsx(Xt,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:r(s)})]})]})})},Ss=({onSync:s})=>{const[t,a]=u.useState("idle"),[r,n]=u.useState(null);u.useEffect(()=>{(()=>{window.location.hostname.includes("bolt.new")&&(a("success"),n(new Date))})()},[]);const c=()=>V(Me,null,function*(){a("syncing");try{yield new Promise(y=>setTimeout(y,2e3)),a("success"),n(new Date),s==null||s()}catch(y){a("error")}}),m=()=>{switch(t){case"syncing":return e.jsx(as,{className:"w-4 h-4 animate-spin"});case"success":return e.jsx(ss,{className:"w-4 h-4 text-green-600"});case"error":return e.jsx(ts,{className:"w-4 h-4 text-red-600"});default:return e.jsx(es,{className:"w-4 h-4"})}},l=()=>{switch(t){case"syncing":return"Senkronize ediliyor...";case"success":return r?`Son sync: ${r.toLocaleTimeString("tr-TR")}`:"Senkronize edildi";case"error":return"Sync hatası";default:return"GitHub"}},x=()=>{switch(t){case"syncing":return"text-blue-600";case"success":return"text-green-600";case"error":return"text-red-600";default:return"text-gray-600"}};return e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("button",{onClick:c,disabled:t==="syncing",className:`flex items-center space-x-2 px-3 py-1 rounded-md text-sm font-medium transition-colors ${x()} hover:bg-gray-100 disabled:opacity-50`,children:[m(),e.jsx("span",{children:l()})]})})},ht=[{id:"dashboard",label:"Ana Sayfa",icon:At},{id:"customers",label:"Müşteriler",icon:Pe},{id:"products",label:"Kartelalar",icon:re},{id:"transactions",label:"Hareketler",icon:at},{id:"reports",label:"Raporlar",icon:Dt},{id:"stock",label:"Kartela Stok",icon:re},{id:"quotes",label:"Motivasyon",icon:Oe},{id:"notes",label:"Notlarım",icon:rs},{id:"settings",label:"Ayarlar",icon:ns}],Cs=({children:s,currentPage:t,onPageChange:a})=>{var m;const[r,n]=u.useState(!1),c=()=>n(!r);return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r&&e.jsx("div",{className:"fixed inset-0 z-40 bg-gray-600 bg-opacity-75 lg:hidden",onClick:()=>n(!1)}),e.jsxs("div",{className:`
        fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out
        lg:translate-x-0 lg:static lg:inset-0
        ${r?"translate-x-0":"-translate-x-full"}
      `,children:[e.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-ormen-600 rounded-full flex items-center justify-center mr-3",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M9.64 7.64c.23-.5.36-1.05.36-1.64 0-2.21-1.79-4-4-4S2 3.79 2 6s1.79 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36c-.5-.23-1.05-.36-1.64-.36-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4c0-.59-.13-1.14-.36-1.64L12 14l2.36 2.36c-.23.5-.36 1.05-.36 1.64 0 2.21 1.79 4 4 4s4-1.79 4-4-1.79-4-4-4c-.59 0-1.14.13-1.64.36L14 12l2.36-2.36c.5.23 1.05.36 1.64.36 2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4c0 .59.13 1.14.36 1.64L12 10 9.64 7.64z"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"ORMEN TEKSTİL"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Kartela Sistemi V1"})]})]}),e.jsx(N,{variant:"ghost",size:"sm",icon:Mt,onClick:c,className:"lg:hidden"})]}),e.jsx("nav",{className:"mt-6 px-3",children:e.jsx("div",{className:"space-y-1",children:ht.map(l=>{const x=l.icon,y=t===l.id;return e.jsxs("button",{onClick:()=>{a(l.id),n(!1)},className:`
                    w-full flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200
                    ${y?"bg-ormen-100 text-ormen-700 border-r-2 border-ormen-600":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}
                  `,children:[e.jsx(x,{className:"w-5 h-5 mr-3"}),l.label]},l.id)})})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{variant:"outline",size:"sm",icon:ge,fullWidth:!0,onClick:()=>{const l=new CustomEvent("export-backup");window.dispatchEvent(l)},children:"Yedek Al"}),e.jsx(N,{variant:"outline",size:"sm",icon:Ke,fullWidth:!0,onClick:()=>{const l=new CustomEvent("import-backup");window.dispatchEvent(l)},children:"Yedek Yükle"})]})})]}),e.jsxs("div",{className:"lg:pl-64",children:[e.jsxs("div",{className:"sticky top-0 z-30 flex h-16 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8",children:[e.jsx(N,{variant:"ghost",size:"sm",icon:ls,onClick:c,className:"lg:hidden"}),e.jsxs("div",{className:"flex flex-1 gap-x-4 self-stretch lg:gap-x-6",children:[e.jsx("div",{className:"flex flex-1 items-center",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:((m=ht.find(l=>l.id===t))==null?void 0:m.label)||"Ana Sayfa"})}),e.jsxs("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:[e.jsx("div",{className:"hidden lg:block lg:h-6 lg:w-px lg:bg-gray-200"}),e.jsx(lt,{}),e.jsx(Ss,{}),e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-ormen-600 flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-white",children:"A"})}),e.jsx("span",{className:"hidden lg:block text-sm font-medium text-gray-700",children:"ORMEN"})]})]})]})]}),e.jsx("main",{className:"py-6",children:e.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:s})})]})]})},ee={CUSTOMERS:"kartela_customers",PRODUCTS:"kartela_products",TRANSACTIONS:"kartela_transactions",STOCK_MOVEMENTS:"kartela_stock_movements",STOCK_ITEMS:"kartela_stock_items",SETTINGS:"kartela_settings"};class Ts{getFromStorage(t,a){try{const r=localStorage.getItem(t);return r?JSON.parse(r):a}catch(r){return console.error(`Error reading from storage (${t}):`,r),a}}saveToStorage(t,a){try{localStorage.setItem(t,JSON.stringify(a))}catch(r){throw console.error(`Error saving to storage (${t}):`,r),new Error(`Veri kaydedilemedi: ${r}`)}}getCustomers(){return this.getFromStorage(ee.CUSTOMERS,[])}saveCustomers(t){this.saveToStorage(ee.CUSTOMERS,t)}getProducts(){return this.getFromStorage(ee.PRODUCTS,[])}saveProducts(t){this.saveToStorage(ee.PRODUCTS,t)}getTransactions(){return this.getFromStorage(ee.TRANSACTIONS,[])}saveTransactions(t){this.saveToStorage(ee.TRANSACTIONS,t)}getStockMovements(){return this.getFromStorage(ee.STOCK_MOVEMENTS,[])}saveStockMovements(t){this.saveToStorage(ee.STOCK_MOVEMENTS,t)}getStockItems(){return this.getFromStorage(ee.STOCK_ITEMS,[])}saveStockItems(t){this.saveToStorage(ee.STOCK_ITEMS,t)}getSettings(){return this.getFromStorage(ee.SETTINGS,{companyName:"Kartela Yönetim Sistemi",theme:"light",language:"tr",autoBackup:!0,backupInterval:7})}saveSettings(t){this.saveToStorage(ee.SETTINGS,t)}createBackup(){return{customers:this.getCustomers(),products:this.getProducts(),transactions:this.getTransactions(),stockMovements:this.getStockMovements(),stockItems:this.getStockItems(),settings:this.getSettings(),exportDate:new Date,version:"1.0.0"}}restoreFromBackup(t){try{t.customers&&this.saveCustomers(t.customers),t.products&&this.saveProducts(t.products),t.transactions&&this.saveTransactions(t.transactions),t.stockMovements&&this.saveStockMovements(t.stockMovements),t.stockItems&&this.saveStockItems(t.stockItems),t.settings&&this.saveSettings(t.settings)}catch(a){throw console.error("Backup restore error:",a),new Error("Yedek geri yükleme sırasında hata oluştu")}}clearAllData(){Object.values(ee).forEach(t=>{localStorage.removeItem(t)})}getStorageInfo(){let t=0;for(let n in localStorage)localStorage.hasOwnProperty(n)&&(t+=localStorage[n].length+n.length);const a=5*1024*1024,r=t/a*100;return{used:t,available:a,percentage:r}}}const Q=new Ts;var As={lessThanXSeconds:{one:"bir saniyeden az",other:"{{count}} saniyeden az"},xSeconds:{one:"1 saniye",other:"{{count}} saniye"},halfAMinute:"yarım dakika",lessThanXMinutes:{one:"bir dakikadan az",other:"{{count}} dakikadan az"},xMinutes:{one:"1 dakika",other:"{{count}} dakika"},aboutXHours:{one:"yaklaşık 1 saat",other:"yaklaşık {{count}} saat"},xHours:{one:"1 saat",other:"{{count}} saat"},xDays:{one:"1 gün",other:"{{count}} gün"},aboutXWeeks:{one:"yaklaşık 1 hafta",other:"yaklaşık {{count}} hafta"},xWeeks:{one:"1 hafta",other:"{{count}} hafta"},aboutXMonths:{one:"yaklaşık 1 ay",other:"yaklaşık {{count}} ay"},xMonths:{one:"1 ay",other:"{{count}} ay"},aboutXYears:{one:"yaklaşık 1 yıl",other:"yaklaşık {{count}} yıl"},xYears:{one:"1 yıl",other:"{{count}} yıl"},overXYears:{one:"1 yıldan fazla",other:"{{count}} yıldan fazla"},almostXYears:{one:"neredeyse 1 yıl",other:"neredeyse {{count}} yıl"}},Es=function(t,a,r){var n,c=As[t];return typeof c=="string"?n=c:a===1?n=c.one:n=c.other.replace("{{count}}",a.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?n+" sonra":n+" önce":n},Ms={full:"d MMMM y EEEE",long:"d MMMM y",medium:"d MMM y",short:"dd.MM.yyyy"},Ds={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Is={full:"{{date}} 'saat' {{time}}",long:"{{date}} 'saat' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zs={date:We({formats:Ms,defaultWidth:"full"}),time:We({formats:Ds,defaultWidth:"full"}),dateTime:We({formats:Is,defaultWidth:"full"})},Os={lastWeek:"'geçen hafta' eeee 'saat' p",yesterday:"'dün saat' p",today:"'bugün saat' p",tomorrow:"'yarın saat' p",nextWeek:"eeee 'saat' p",other:"P"},Ps=function(t,a,r,n){return Os[t]},Bs={narrow:["MÖ","MS"],abbreviated:["MÖ","MS"],wide:["Milattan Önce","Milattan Sonra"]},Rs={narrow:["1","2","3","4"],abbreviated:["1Ç","2Ç","3Ç","4Ç"],wide:["İlk çeyrek","İkinci Çeyrek","Üçüncü çeyrek","Son çeyrek"]},Ls={narrow:["O","Ş","M","N","M","H","T","A","E","E","K","A"],abbreviated:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],wide:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"]},Ks={narrow:["P","P","S","Ç","P","C","C"],short:["Pz","Pt","Sa","Ça","Pe","Cu","Ct"],abbreviated:["Paz","Pzt","Sal","Çar","Per","Cum","Cts"],wide:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"]},_s={narrow:{am:"öö",pm:"ös",midnight:"gy",noon:"ö",morning:"sa",afternoon:"ös",evening:"ak",night:"ge"},abbreviated:{am:"ÖÖ",pm:"ÖS",midnight:"gece yarısı",noon:"öğle",morning:"sabah",afternoon:"öğleden sonra",evening:"akşam",night:"gece"},wide:{am:"Ö.Ö.",pm:"Ö.S.",midnight:"gece yarısı",noon:"öğle",morning:"sabah",afternoon:"öğleden sonra",evening:"akşam",night:"gece"}},$s={narrow:{am:"öö",pm:"ös",midnight:"gy",noon:"ö",morning:"sa",afternoon:"ös",evening:"ak",night:"ge"},abbreviated:{am:"ÖÖ",pm:"ÖS",midnight:"gece yarısı",noon:"öğlen",morning:"sabahleyin",afternoon:"öğleden sonra",evening:"akşamleyin",night:"geceleyin"},wide:{am:"ö.ö.",pm:"ö.s.",midnight:"gece yarısı",noon:"öğlen",morning:"sabahleyin",afternoon:"öğleden sonra",evening:"akşamleyin",night:"geceleyin"}},Fs=function(t,a){var r=Number(t);return r+"."},Hs={ordinalNumber:Fs,era:ke({values:Bs,defaultWidth:"wide"}),quarter:ke({values:Rs,defaultWidth:"wide",argumentCallback:function(t){return Number(t)-1}}),month:ke({values:Ls,defaultWidth:"wide"}),day:ke({values:Ks,defaultWidth:"wide"}),dayPeriod:ke({values:_s,defaultWidth:"wide",formattingValues:$s,defaultFormattingWidth:"wide"})},Us=/^(\d+)(\.)?/i,Vs=/\d+/i,Ws={narrow:/^(mö|ms)/i,abbreviated:/^(mö|ms)/i,wide:/^(milattan önce|milattan sonra)/i},qs={any:[/(^mö|^milattan önce)/i,/(^ms|^milattan sonra)/i]},Gs={narrow:/^[1234]/i,abbreviated:/^[1234]ç/i,wide:/^((i|İ)lk|(i|İ)kinci|üçüncü|son) çeyrek/i},Ys={any:[/1/i,/2/i,/3/i,/4/i],abbreviated:[/1ç/i,/2ç/i,/3ç/i,/4ç/i],wide:[/^(i|İ)lk çeyrek/i,/(i|İ)kinci çeyrek/i,/üçüncü çeyrek/i,/son çeyrek/i]},Qs={narrow:/^[oşmnhtaek]/i,abbreviated:/^(oca|şub|mar|nis|may|haz|tem|ağu|eyl|eki|kas|ara)/i,wide:/^(ocak|şubat|mart|nisan|mayıs|haziran|temmuz|ağustos|eylül|ekim|kasım|aralık)/i},Js={narrow:[/^o/i,/^ş/i,/^m/i,/^n/i,/^m/i,/^h/i,/^t/i,/^a/i,/^e/i,/^e/i,/^k/i,/^a/i],any:[/^o/i,/^ş/i,/^mar/i,/^n/i,/^may/i,/^h/i,/^t/i,/^ağ/i,/^ey/i,/^ek/i,/^k/i,/^ar/i]},Zs={narrow:/^[psçc]/i,short:/^(pz|pt|sa|ça|pe|cu|ct)/i,abbreviated:/^(paz|pzt|sal|çar|per|cum|cts)/i,wide:/^(pazar(?!tesi)|pazartesi|salı|çarşamba|perşembe|cuma(?!rtesi)|cumartesi)/i},Xs={narrow:[/^p/i,/^p/i,/^s/i,/^ç/i,/^p/i,/^c/i,/^c/i],any:[/^pz/i,/^pt/i,/^sa/i,/^ça/i,/^pe/i,/^cu/i,/^ct/i],wide:[/^pazar(?!tesi)/i,/^pazartesi/i,/^salı/i,/^çarşamba/i,/^perşembe/i,/^cuma(?!rtesi)/i,/^cumartesi/i]},ea={narrow:/^(öö|ös|gy|ö|sa|ös|ak|ge)/i,any:/^(ö\.?\s?[ös]\.?|öğleden sonra|gece yarısı|öğle|(sabah|öğ|akşam|gece)(leyin))/i},ta={any:{am:/^ö\.?ö\.?/i,pm:/^ö\.?s\.?/i,midnight:/^(gy|gece yarısı)/i,noon:/^öğ/i,morning:/^sa/i,afternoon:/^öğleden sonra/i,evening:/^ak/i,night:/^ge/i}},sa={ordinalNumber:ys({matchPattern:Us,parsePattern:Vs,valueCallback:function(t){return parseInt(t,10)}}),era:we({matchPatterns:Ws,defaultMatchWidth:"wide",parsePatterns:qs,defaultParseWidth:"any"}),quarter:we({matchPatterns:Gs,defaultMatchWidth:"wide",parsePatterns:Ys,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:we({matchPatterns:Qs,defaultMatchWidth:"wide",parsePatterns:Js,defaultParseWidth:"any"}),day:we({matchPatterns:Zs,defaultMatchWidth:"wide",parsePatterns:Xs,defaultParseWidth:"any"}),dayPeriod:we({matchPatterns:ea,defaultMatchWidth:"any",parsePatterns:ta,defaultParseWidth:"any"})},it={code:"tr",formatDistance:Es,formatLong:zs,formatRelative:Ps,localize:Hs,match:sa,options:{weekStartsOn:1,firstWeekContainsDate:1}};const te=s=>{const t=typeof s=="string"?rt(s):s;return nt(t)?Pt(t,"dd.MM.yyyy",{locale:it}):"Geçersiz tarih"},gt=s=>{const t=typeof s=="string"?rt(s):s;return nt(t)?Pt(t,"dd.MM.yyyy HH:mm",{locale:it}):"Geçersiz tarih"},Kt=s=>{const t=typeof s=="string"?rt(s):s;return nt(t)?ps(t,{addSuffix:!0,locale:it}):"Geçersiz tarih"},Se=()=>crypto.randomUUID(),G=(s,t)=>t?s.toLowerCase().includes(t.toLowerCase()):!0,yt=(s,t)=>s.reduce((a,r)=>{const n=t(r);return a[n]=a[n]||[],a[n].push(r),a},{}),aa=s=>{if(s===0)return"0 Bytes";const t=1024,a=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(s)/Math.log(t));return parseFloat((s/Math.pow(t,r)).toFixed(2))+" "+a[r]},pt={customers:[],products:[],transactions:[],stockMovements:[],stockItems:[],settings:{companyName:"ORMEN TEKSTİL V1",theme:"light",language:"tr",autoBackup:!0,backupInterval:7},loading:!1,error:null},ra=(s,t)=>{switch(t.type){case"SET_LOADING":return j(g({},s),{loading:t.payload});case"SET_ERROR":return j(g({},s),{error:t.payload});case"LOAD_DATA":return g(g({},s),t.payload);case"ADD_CUSTOMER":return j(g({},s),{customers:[...s.customers,t.payload]});case"UPDATE_CUSTOMER":return j(g({},s),{customers:s.customers.map(a=>a.id===t.payload.id?t.payload:a)});case"DELETE_CUSTOMER":return j(g({},s),{customers:s.customers.filter(a=>a.id!==t.payload)});case"SET_CUSTOMERS":return j(g({},s),{customers:t.payload});case"ADD_PRODUCT":return j(g({},s),{products:[...s.products,t.payload]});case"UPDATE_PRODUCT":return j(g({},s),{products:s.products.map(a=>a.id===t.payload.id?t.payload:a)});case"DELETE_PRODUCT":return j(g({},s),{products:s.products.filter(a=>a.id!==t.payload)});case"SET_PRODUCTS":return j(g({},s),{products:t.payload});case"ADD_TRANSACTION":return j(g({},s),{transactions:[...s.transactions,t.payload]});case"UPDATE_TRANSACTION":return j(g({},s),{transactions:s.transactions.map(a=>a.id===t.payload.id?t.payload:a)});case"DELETE_TRANSACTION":return j(g({},s),{transactions:s.transactions.filter(a=>a.id!==t.payload)});case"SET_TRANSACTIONS":return j(g({},s),{transactions:t.payload});case"ADD_STOCK_MOVEMENT":return j(g({},s),{stockMovements:[...s.stockMovements,t.payload]});case"SET_STOCK_MOVEMENTS":return j(g({},s),{stockMovements:t.payload});case"ADD_STOCK_ITEM":return j(g({},s),{stockItems:[...s.stockItems,t.payload]});case"UPDATE_STOCK_ITEM":return j(g({},s),{stockItems:s.stockItems.map(a=>a.id===t.payload.id?t.payload:a)});case"DELETE_STOCK_ITEM":return j(g({},s),{stockItems:s.stockItems.filter(a=>a.id!==t.payload)});case"SET_STOCK_ITEMS":return j(g({},s),{stockItems:t.payload});case"UPDATE_SETTINGS":return j(g({},s),{settings:t.payload});default:return s}},_t=u.createContext(void 0),xe=()=>{const s=u.useContext(_t);if(s===void 0)throw new Error("useApp must be used within an AppProvider");return s},na=({children:s})=>{const[t,a]=u.useReducer(ra,pt);u.useEffect(()=>{(()=>{try{a({type:"SET_LOADING",payload:!0});const w=Q.getCustomers(),h=Q.getProducts(),I=Q.getTransactions(),P=Q.getStockMovements(),_=Q.getStockItems(),U=Q.getSettings();a({type:"LOAD_DATA",payload:{customers:w,products:h,transactions:I,stockMovements:P,stockItems:_,settings:U}})}catch(w){a({type:"SET_ERROR",payload:"Veri yüklenirken hata oluştu"})}finally{a({type:"SET_LOADING",payload:!1})}})()},[]),u.useEffect(()=>{(t.customers.length>0||t.products.length>0||t.stockItems.length>0)&&(Q.saveCustomers(t.customers),Q.saveProducts(t.products),Q.saveTransactions(t.transactions),Q.saveStockMovements(t.stockMovements),Q.saveStockItems(t.stockItems),Q.saveSettings(t.settings))},[t.customers,t.products,t.transactions,t.stockMovements,t.stockItems,t.settings]);const r=i=>{const w=j(g({},i),{id:Se(),createdAt:new Date,updatedAt:new Date});a({type:"ADD_CUSTOMER",payload:w})},n=i=>{const w=j(g({},i),{updatedAt:new Date});a({type:"UPDATE_CUSTOMER",payload:w})},c=i=>{a({type:"DELETE_CUSTOMER",payload:i})},m=i=>t.customers.find(w=>w.id===i),l=i=>{const w=j(g({},i),{id:Se(),createdAt:new Date,updatedAt:new Date});a({type:"ADD_PRODUCT",payload:w})},x=i=>{const w=j(g({},i),{updatedAt:new Date});a({type:"UPDATE_PRODUCT",payload:w})},y=i=>{a({type:"DELETE_PRODUCT",payload:i})},S=i=>t.products.find(w=>w.id===i),k=i=>{var I;const w=j(g({},i),{id:Se(),createdAt:new Date});if(a({type:"ADD_TRANSACTION",payload:w}),S(w.productId)){const P=w.type==="given"?-w.quantity:w.type==="returned"?w.quantity:-w.quantity;O(w.productId,P,P>0?"in":"out",`${w.type} - ${(I=m(w.customerId))==null?void 0:I.name}`)}},z=i=>{a({type:"UPDATE_TRANSACTION",payload:i})},f=i=>{a({type:"DELETE_TRANSACTION",payload:i})},D=()=>t.transactions.map(i=>j(g({},i),{customer:m(i.customerId),product:S(i.productId)})).filter(i=>i.customer&&i.product),L=i=>D().filter(w=>w.customerId===i),E=i=>D().filter(w=>w.productId===i),$=i=>{const w=j(g({},i),{id:Se(),createdAt:new Date});a({type:"ADD_STOCK_MOVEMENT",payload:w})},O=(i,w,h,I)=>{const P=S(i);if(!P)return;let _=P.stockQuantity||0;h==="in"?_+=Math.abs(w):h==="out"?_-=Math.abs(w):_=w,_=Math.max(0,_),x(j(g({},P),{stockQuantity:_})),$({productId:i,type:h,quantity:Math.abs(w),reason:I})},se={state:t,dispatch:a,addCustomer:r,updateCustomer:n,deleteCustomer:c,getCustomer:m,addProduct:l,updateProduct:x,deleteProduct:y,getProduct:S,addTransaction:k,updateTransaction:z,deleteTransaction:f,getTransactionsWithDetails:D,getCustomerTransactions:L,getProductTransactions:E,addStockMovement:$,updateProductStock:O,addStockItem:i=>{const w=j(g({},i),{id:Se(),createdAt:new Date,updatedAt:new Date});a({type:"ADD_STOCK_ITEM",payload:w})},updateStockItem:i=>{const w=j(g({},i),{updatedAt:new Date});a({type:"UPDATE_STOCK_ITEM",payload:w})},deleteStockItem:i=>{a({type:"DELETE_STOCK_ITEM",payload:i})},getStockItem:i=>t.stockItems.find(w=>w.id===i),getDashboardStats:()=>{const i=D(),w=t.products.filter(_=>(_.stockQuantity||0)<=(_.minStockLevel||0)).length,h=i.sort((_,U)=>new Date(U.createdAt).getTime()-new Date(_.createdAt).getTime()).slice(0,5),I=t.customers.map(_=>{const U=i.filter(X=>X.customerId===_.id),ie=U.length>0?new Date(Math.max(...U.map(X=>new Date(X.createdAt).getTime()))):new Date(0);return{customer:_,transactionCount:U.length,lastTransaction:ie}}).sort((_,U)=>U.transactionCount-_.transactionCount).slice(0,5),P=t.products.map(_=>{const U=i.filter(X=>X.productId===_.id),ie=U.reduce((X,me)=>X+me.quantity,0);return{product:_,transactionCount:U.length,totalQuantity:ie}}).sort((_,U)=>U.transactionCount-_.transactionCount).slice(0,5);return{totalCustomers:t.customers.length,totalProducts:t.products.length,totalTransactions:t.transactions.length,lowStockProducts:w,recentTransactions:h,topCustomers:I,topProducts:P}},importCustomers:i=>{a({type:"SET_CUSTOMERS",payload:[...t.customers,...i]})},importProducts:i=>{a({type:"SET_PRODUCTS",payload:[...t.products,...i]})},createBackup:()=>{const i=Q.createBackup(),w=JSON.stringify(i,null,2),h=new Blob([w],{type:"application/json"}),I=URL.createObjectURL(h),P=document.createElement("a");P.href=I,P.download=`kartela-backup-${new Date().toISOString().split("T")[0]}.json`,P.click(),URL.revokeObjectURL(I)},restoreBackup:i=>{try{Q.restoreFromBackup(i),a({type:"LOAD_DATA",payload:{customers:i.customers||[],products:i.products||[],transactions:i.transactions||[],stockMovements:i.stockMovements||[],stockItems:i.stockItems||[],settings:i.settings||t.settings}})}catch(w){a({type:"SET_ERROR",payload:"Yedek geri yükleme başarısız"})}},clearAllData:()=>{Q.clearAllData(),a({type:"LOAD_DATA",payload:{customers:[],products:[],transactions:[],stockMovements:[],stockItems:[],settings:pt.settings}})},updateSettings:i=>{a({type:"UPDATE_SETTINGS",payload:i})}};return e.jsx(_t.Provider,{value:se,children:s})},ft=()=>{const{getDashboardStats:s}=xe(),t=s(),a=[{title:"Toplam Müşteri",value:t.totalCustomers,icon:Pe,color:"bg-blue-500",textColor:"text-blue-600",bgColor:"bg-blue-50"},{title:"Toplam Kartela",value:t.totalProducts,icon:re,color:"bg-green-500",textColor:"text-green-600",bgColor:"bg-green-50"},{title:"Toplam Hareket",value:t.totalTransactions,icon:at,color:"bg-purple-500",textColor:"text-purple-600",bgColor:"bg-purple-50"},{title:"Düşük Stok",value:t.lowStockProducts,icon:Ae,color:"bg-red-500",textColor:"text-red-600",bgColor:"bg-red-50"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-ormen-gradient rounded-lg p-6 text-white shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M9.64 7.64c.23-.5.36-1.05.36-1.64 0-2.21-1.79-4-4-4S2 3.79 2 6s1.79 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36c-.5-.23-1.05-.36-1.64-.36-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4c0-.59-.13-1.14-.36-1.64L12 14l2.36 2.36c-.23.5-.36 1.05-.36 1.64 0 2.21 1.79 4 4 4s4-1.79 4-4-1.79-4-4-4c-.59 0-1.14.13-1.64.36L14 12l2.36-2.36c.5.23 1.05.36 1.64.36 2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4c0 .59.13 1.14.36 1.64L12 10 9.64 7.64z"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h1",{className:"text-2xl font-bold mb-1",children:"ORMEN TEKSTİL"}),e.jsx("p",{className:"text-sm opacity-90",children:"Kartela Yönetim Sistemi V1"})]})]}),e.jsx("div",{className:"bg-white bg-opacity-20 backdrop-blur-sm rounded-xl p-4 border border-white border-opacity-30",children:e.jsx(lt,{})})]}),e.jsx("p",{className:"text-white text-opacity-90",children:"Hoş geldiniz! Sistem durumunuzu ve son aktiviteleri aşağıda görebilirsiniz."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map((r,n)=>{const c=r.icon;return e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`${r.bgColor} p-3 rounded-lg`,children:e.jsx(c,{className:`w-6 h-6 ${r.textColor}`})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:r.title}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.value})]})]})},n)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Qe,{className:"w-5 h-5 text-gray-400 mr-2"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Son Hareketler"})]})}),e.jsx("div",{className:"p-6",children:t.recentTransactions.length>0?e.jsx("div",{className:"space-y-4",children:t.recentTransactions.map(r=>e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-b-0",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:r.customer.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[r.product.name," - ",r.quantity," adet"]}),e.jsx("p",{className:"text-xs text-gray-400",children:Kt(r.createdAt)})]}),e.jsx("div",{className:"ml-4",children:e.jsx("span",{className:`
                        inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
                        ${r.type==="given"?"bg-red-100 text-red-800":r.type==="returned"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}
                      `,children:r.type==="given"?"Verildi":r.type==="returned"?"İade":"Satıldı"})})]},r.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Qe,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Henüz hareket bulunmuyor"})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(_e,{className:"w-5 h-5 text-gray-400 mr-2"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"En Aktif Müşteriler"})]})}),e.jsx("div",{className:"p-6",children:t.topCustomers.length>0?e.jsx("div",{className:"space-y-4",children:t.topCustomers.map((r,n)=>e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-b-0",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-indigo-400 to-indigo-600 rounded-full flex items-center justify-center mr-3 shadow-md",children:e.jsx("span",{className:"text-xs font-bold text-white",children:n+1})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:r.customer.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Son hareket: ",te(r.lastTransaction)]})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[r.transactionCount," hareket"]})})]},r.customer.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Pe,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Henüz müşteri bulunmuyor"})]})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(re,{className:"w-5 h-5 text-gray-400 mr-2"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"En Çok Kullanılan Kartelalar"})]})}),e.jsx("div",{className:"p-6",children:t.topProducts.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.topProducts.map((r,n)=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:r.product.name}),e.jsxs("span",{className:"text-xs text-gray-500",children:["#",n+1]})]}),e.jsx("p",{className:"text-xs text-gray-600 mb-2",children:r.product.code}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Hareket:"}),e.jsx("span",{className:"font-medium",children:r.transactionCount})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Toplam:"}),e.jsxs("span",{className:"font-medium",children:[r.totalQuantity," adet"]})]})]},r.product.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(re,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Henüz kartela bulunmuyor"})]})})]})]})},J=({isOpen:s,onClose:t,title:a,children:r,size:n="md",showCloseButton:c=!0,closeOnOverlayClick:m=!0,closeOnEscape:l=!0})=>{if(u.useEffect(()=>{if(!l)return;const S=k=>{k.key==="Escape"&&s&&t()};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[s,t,l]),u.useEffect(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[s]),!s)return null;const x={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-7xl mx-4"},y=S=>{m&&S.target===S.currentTarget&&t()};return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 text-center sm:p-0",onClick:y,children:[e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"}),e.jsxs("div",{className:`
          relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all
          w-full ${x[n]} animate-slide-up
        `,children:[(a||c)&&e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[a&&e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:a}),c&&e.jsx(N,{variant:"ghost",size:"sm",icon:Mt,onClick:t,className:"text-gray-400 hover:text-gray-600"})]}),e.jsx("div",{className:"px-6 py-4",children:r})]})]})})},Z=({children:s})=>e.jsx("div",{className:"mb-6",children:s}),ne=({children:s})=>e.jsx("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:s});class ue{static exportCustomersToCSV(t){const a=t.map(r=>({Ad:r.name,Şirket:r.company||"",Telefon:r.phone||"","E-posta":r.email||"",Adres:r.address||"",Şehir:r.city||"",Notlar:r.notes||"","Oluşturma Tarihi":new Date(r.createdAt).toLocaleDateString("tr-TR")}));return pe.unparse(a,{delimiter:",",header:!0,encoding:"utf-8"})}static importCustomersFromCSV(t){return V(this,null,function*(){return new Promise(a=>{pe.parse(t,{header:!0,encoding:"utf-8",complete:r=>{const n=[],c=[];let m=0;r.data.forEach((l,x)=>{try{if(!l.Ad&&!l.Name&&!l.name){c.push(`Satır ${x+1}: Müşteri adı gerekli`),m++;return}const y={id:crypto.randomUUID(),name:l.Ad||l.Name||l.name||"",company:l.Şirket||l.Company||l.company||"",phone:l.Telefon||l.Phone||l.phone||"",email:l["E-posta"]||l.Email||l.email||"",address:l.Adres||l.Address||l.address||"",city:l.Şehir||l.City||l.city||"",notes:l.Notlar||l.Notes||l.notes||"",createdAt:new Date,updatedAt:new Date};n.push(y)}catch(y){c.push(`Satır ${x+1}: ${y}`),m++}}),a({success:c.length===0,data:n,errors:c,skipped:m})},error:r=>{a({success:!1,data:[],errors:[`CSV okuma hatası: ${r.message}`],skipped:0})}})})})}static exportProductsToCSV(t){const a=t.map(r=>({Ad:r.name,Kod:r.code,Kategori:r.category||"",Açıklama:r.description||"",Birim:r.unit||"",Fiyat:r.price||"","Stok Miktarı":r.stockQuantity||"","Min. Stok":r.minStockLevel||"","Oluşturma Tarihi":new Date(r.createdAt).toLocaleDateString("tr-TR")}));return pe.unparse(a,{delimiter:",",header:!0,encoding:"utf-8"})}static importProductsFromCSV(t){return V(this,null,function*(){return new Promise(a=>{pe.parse(t,{header:!0,encoding:"utf-8",complete:r=>{const n=[],c=[];let m=0;r.data.forEach((l,x)=>{try{if(!l.Ad&&!l.Name&&!l.name){c.push(`Satır ${x+1}: Ürün adı gerekli`),m++;return}if(!l.Kod&&!l.Code&&!l.code){c.push(`Satır ${x+1}: Ürün kodu gerekli`),m++;return}const y={id:crypto.randomUUID(),name:l.Ad||l.Name||l.name||"",code:l.Kod||l.Code||l.code||"",category:l.Kategori||l.Category||l.category||"",description:l.Açıklama||l.Description||l.description||"",unit:l.Birim||l.Unit||l.unit||"",price:parseFloat(l.Fiyat||l.Price||l.price||"0")||void 0,stockQuantity:parseInt(l["Stok Miktarı"]||l.Stock||l.stock||"0")||0,minStockLevel:parseInt(l["Min. Stok"]||l.MinStock||l.minStock||"0")||0,createdAt:new Date,updatedAt:new Date};n.push(y)}catch(y){c.push(`Satır ${x+1}: ${y}`),m++}}),a({success:c.length===0,data:n,errors:c,skipped:m})},error:r=>{a({success:!1,data:[],errors:[`CSV okuma hatası: ${r.message}`],skipped:0})}})})})}static downloadCSV(t,a){const r=new Blob(["\uFEFF"+t],{type:"text/csv;charset=utf-8;"}),n=document.createElement("a"),c=URL.createObjectURL(r);n.setAttribute("href",c),n.setAttribute("download",a),n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n)}static generateCustomerTemplate(){const t=[{Ad:"Örnek Müşteri 1",Şirket:"ABC Ltd. Şti.",Telefon:"0532 123 45 67","E-posta":"musteri1@example.com",Adres:"Örnek Mahallesi, Örnek Sokak No:1",Şehir:"İstanbul",Notlar:"VIP müşteri"},{Ad:"Örnek Müşteri 2",Şirket:"XYZ A.Ş.",Telefon:"0533 987 65 43","E-posta":"musteri2@example.com",Adres:"Test Mahallesi, Test Caddesi No:5",Şehir:"Ankara",Notlar:"Aylık müşteri"}];return pe.unparse(t,{delimiter:",",header:!0,encoding:"utf-8"})}static generateProductTemplate(){const t=[{Ad:"Kartela A1",Kod:"KRT-A1-001",Kategori:"Standart Kartela",Açıklama:"Standart boyut kartela",Birim:"Adet",Fiyat:"25.50","Stok Miktarı":"100","Min. Stok":"10"},{Ad:"Kartela B2",Kod:"KRT-B2-002",Kategori:"Büyük Kartela",Açıklama:"Büyük boyut kartela",Birim:"Adet",Fiyat:"45.00","Stok Miktarı":"50","Min. Stok":"5"}];return pe.unparse(t,{delimiter:",",header:!0,encoding:"utf-8"})}}const la=()=>{const{state:s,addCustomer:t,updateCustomer:a,deleteCustomer:r,importCustomers:n,getCustomerTransactions:c}=xe(),[m,l]=u.useState(""),[x,y]=u.useState(!1),[S,k]=u.useState(!1),[z,f]=u.useState(!1),[D,L]=u.useState(!1),[E,$]=u.useState(null),[O,p]=u.useState({name:"",company:"",phone:"",email:"",address:"",city:"",notes:""}),[K,B]=u.useState(""),R=u.useMemo(()=>s.customers.filter(I=>G(I.name,m)||G(I.company||"",m)||G(I.phone||"",m)||G(I.city||"",m)).sort((I,P)=>I.name.localeCompare(P.name,"tr")),[s.customers,m]),A=()=>{p({name:"",company:"",phone:"",email:"",address:"",city:"",notes:""})},o=()=>{y(!0),A()},v=()=>{B(""),L(!0)},M=h=>{$(h),p({name:h.name,company:h.company||"",phone:h.phone||"",email:h.email||"",address:h.address||"",city:h.city||"",notes:h.notes||""}),k(!0)},C=h=>{$(h),f(!0)},W=h=>{window.confirm(`${h.name} müşterisini silmek istediğinizden emin misiniz?`)&&(r(h.id),T.success("Müşteri başarıyla silindi"))},Y=h=>{if(h.preventDefault(),!O.name.trim()){T.error("Müşteri adı gerekli");return}S&&E?(a(g(g({},E),O)),T.success("Müşteri başarıyla güncellendi"),k(!1)):(t(O),T.success("Müşteri başarıyla eklendi"),y(!1)),A(),$(null)},se=h=>{if(h.preventDefault(),!K.trim()){T.error("En az bir müşteri adı girmelisiniz");return}const I=K.split(`
`).map(P=>P.trim()).filter(P=>P.length>0);if(I.length===0){T.error("Geçerli müşteri adı bulunamadı");return}I.sort((P,_)=>P.localeCompare(_,"tr")),I.forEach(P=>{t({name:P,company:"",phone:"",email:"",address:"",city:"",notes:""})}),T.success(`${I.length} müşteri başarıyla eklendi`),L(!1),B("")},i=()=>{try{const h=ue.exportCustomersToCSV(s.customers);ue.downloadCSV(h,`musteriler-${new Date().toISOString().split("T")[0]}.csv`),T.success("Müşteriler başarıyla dışa aktarıldı")}catch(h){T.error("Dışa aktarma sırasında hata oluştu")}},w=()=>{const h=ue.generateCustomerTemplate();ue.downloadCSV(h,"musteri-sablonu.csv"),T.success("Şablon dosyası indirildi")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Müşteriler"}),e.jsxs("p",{className:"text-gray-600",children:["Toplam ",s.customers.length," müşteri"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(N,{variant:"outline",icon:ge,onClick:w,size:"sm",children:"Şablon İndir"}),e.jsx(N,{variant:"outline",icon:Ke,onClick:v,size:"sm",children:"Toplu Ekle"}),e.jsx(N,{variant:"secondary",icon:ge,onClick:i,size:"sm",children:"Dışa Aktar"}),e.jsx(N,{variant:"primary",icon:le,onClick:o,children:"Yeni Müşteri"})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsx(F,{icon:je,placeholder:"Müşteri ara (ad, şirket, telefon, şehir)...",value:m,onChange:h=>l(h.target.value),fullWidth:!0})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:R.map((h,I)=>{const P=c(h.id),_=P.length>0?P[0]:null;return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-emerald-400 to-emerald-600 rounded-full flex items-center justify-center mr-3 flex-shrink-0 shadow-lg",children:e.jsx("span",{className:"text-sm font-bold text-white",children:I+1})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:h.name}),h.company&&e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:h.company})]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(N,{variant:"ghost",size:"sm",icon:Le,onClick:()=>C(h)}),e.jsx(N,{variant:"ghost",size:"sm",icon:Ee,onClick:()=>M(h)}),e.jsx(N,{variant:"ghost",size:"sm",icon:ye,onClick:()=>W(h),className:"text-red-600 hover:text-red-700"})]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[h.phone&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(is,{className:"w-4 h-4 mr-2"}),h.phone]}),h.email&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(os,{className:"w-4 h-4 mr-2"}),h.email]}),h.city&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(It,{className:"w-4 h-4 mr-2"}),h.city]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Toplam Hareket:"}),e.jsxs("button",{onClick:()=>C(h),className:"font-medium text-primary-600 hover:text-primary-700 cursor-pointer",children:[P.length," hareket"]})]}),_&&e.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[e.jsx("span",{className:"text-gray-500",children:"Son Hareket:"}),e.jsx("span",{className:"font-medium",children:Kt(_.createdAt)})]}),e.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[e.jsx("span",{className:"text-gray-500",children:"Kayıt Tarihi:"}),e.jsx("span",{className:"font-medium",children:te(h.createdAt)})]})]})]},h.id)})}),R.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(je,{className:"w-12 h-12 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:m?"Müşteri bulunamadı":"Henüz müşteri yok"}),e.jsx("p",{className:"text-gray-500 mb-6",children:m?"Arama kriterlerinizi değiştirip tekrar deneyin":"İlk müşterinizi ekleyerek başlayın"}),!m&&e.jsx(N,{variant:"primary",icon:le,onClick:o,children:"İlk Müşteriyi Ekle"})]}),e.jsx(J,{isOpen:x||S,onClose:()=>{y(!1),k(!1),A(),$(null)},title:S?"Müşteri Düzenle":"Yeni Müşteri Ekle",size:"lg",children:e.jsxs("form",{onSubmit:Y,children:[e.jsx(Z,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(F,{label:"Müşteri Adı *",value:O.name,onChange:h=>p(j(g({},O),{name:h.target.value})),required:!0,fullWidth:!0}),e.jsx(F,{label:"Şirket",value:O.company,onChange:h=>p(j(g({},O),{company:h.target.value})),fullWidth:!0}),e.jsx(F,{label:"Telefon",type:"tel",value:O.phone,onChange:h=>p(j(g({},O),{phone:h.target.value})),fullWidth:!0}),e.jsx(F,{label:"E-posta",type:"email",value:O.email,onChange:h=>p(j(g({},O),{email:h.target.value})),fullWidth:!0}),e.jsx(F,{label:"Şehir",value:O.city,onChange:h=>p(j(g({},O),{city:h.target.value})),fullWidth:!0}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(F,{label:"Adres",value:O.address,onChange:h=>p(j(g({},O),{address:h.target.value})),fullWidth:!0})}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notlar"}),e.jsx("textarea",{className:"block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",rows:3,value:O.notes,onChange:h=>p(j(g({},O),{notes:h.target.value}))})]})]})}),e.jsxs(ne,{children:[e.jsx(N,{variant:"ghost",onClick:()=>{y(!1),k(!1),A(),$(null)},children:"İptal"}),e.jsx(N,{type:"submit",variant:"primary",children:S?"Güncelle":"Ekle"})]})]})}),e.jsx(J,{isOpen:D,onClose:()=>{L(!1),B("")},title:"Toplu Müşteri Ekleme",size:"md",children:e.jsxs("form",{onSubmit:se,children:[e.jsx(Z,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-5 h-5 text-blue-600 mt-0.5 mr-2",children:"ℹ️"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Nasıl Kullanılır"}),e.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Her satıra bir müşteri adı yazın. Sistem otomatik olarak alfabetik sıralayacak ve numaralandıracak."})]})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Müşteri Adları (Her satıra bir ad)"}),e.jsx("textarea",{className:"block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",rows:8,value:K,onChange:h=>B(h.target.value),placeholder:`Ahmet Yılmaz
Mehmet Demir
Ayşe Kaya
...`,required:!0}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[K.split(`
`).filter(h=>h.trim().length>0).length," müşteri eklenecek"]})]})]})}),e.jsxs(ne,{children:[e.jsx(N,{variant:"ghost",onClick:()=>{L(!1),B("")},children:"İptal"}),e.jsx(N,{type:"submit",variant:"primary",children:"Müşterileri Ekle"})]})]})}),e.jsx(J,{isOpen:z,onClose:()=>{f(!1),$(null)},title:"Müşteri Detayları",size:"lg",children:E&&e.jsx(Z,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Müşteri Adı"}),e.jsx("p",{className:"text-gray-900",children:E.name})]}),E.company&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Şirket"}),e.jsx("p",{className:"text-gray-900",children:E.company})]}),E.phone&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefon"}),e.jsx("p",{className:"text-gray-900",children:E.phone})]}),E.email&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-posta"}),e.jsx("p",{className:"text-gray-900",children:E.email})]}),E.city&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Şehir"}),e.jsx("p",{className:"text-gray-900",children:E.city})]}),E.address&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adres"}),e.jsx("p",{className:"text-gray-900",children:E.address})]}),E.notes&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notlar"}),e.jsx("p",{className:"text-gray-900",children:E.notes})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Hareket Geçmişi"}),(()=>{const h=c(E.id);return h.length>0?e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:h.map(I=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:I.product.name}),e.jsx("p",{className:"text-sm text-gray-500",children:I.product.code}),e.jsxs("p",{className:"text-sm text-gray-600",children:[I.quantity," adet - ",te(I.createdAt)]}),I.notes&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:I.notes})]}),e.jsx("span",{className:`
                            inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
                            ${I.type==="given"?"bg-red-100 text-red-800":I.type==="returned"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}
                          `,children:I.type==="given"?"Verildi":I.type==="returned"?"İade":"Satıldı"})]},I.id))}):e.jsx("p",{className:"text-gray-500 text-center py-4",children:"Henüz hareket bulunmuyor"})})()]})]})})})]})},ia=()=>{const{state:s,addProduct:t,updateProduct:a,deleteProduct:r,importProducts:n,getProductTransactions:c,updateProductStock:m}=xe(),[l,x]=u.useState(""),[y,S]=u.useState(""),[k,z]=u.useState(!1),[f,D]=u.useState(!1),[L,E]=u.useState(!1),[$,O]=u.useState(!1),[p,K]=u.useState(!1),[B,R]=u.useState(null),[A,o]=u.useState({quantity:0,type:"in",reason:""}),[v,M]=u.useState({name:"",code:"",category:""}),[C,W]=u.useState(""),Y=u.useMemo(()=>{const b=s.products.map(H=>H.category).filter(Boolean);return[...new Set(b)]},[s.products]),se=u.useMemo(()=>s.products.filter(b=>{const H=G(b.name,l)||G(b.code,l)||G(b.category||"",l)||G(b.description||"",l),ce=!y||b.category===y;return H&&ce}),[s.products,l,y]),i=()=>{M({name:"",code:"",category:""})},w=()=>{z(!0),i()},h=b=>{R(b),M({name:b.name,code:b.code,category:b.category||""}),D(!0)},I=b=>{R(b),E(!0)},P=b=>{R(b),o({quantity:0,type:"in",reason:""}),O(!0)},_=()=>{W(""),K(!0)},U=b=>{window.confirm(`${b.name} kartelasını silmek istediğinizden emin misiniz?`)&&(r(b.id),T.success("Kartela başarıyla silindi"))},ie=b=>{if(b.preventDefault(),!v.name.trim()){T.error("Kartela adı gerekli");return}if(!v.code.trim()){T.error("Kartela kodu gerekli");return}const H={name:v.name.trim(),code:v.code.trim(),category:v.category.trim()||void 0,stockQuantity:0,minStockLevel:0};f&&B?(a(g(g({},B),H)),T.success("Kartela başarıyla güncellendi"),D(!1)):(t(H),T.success("Kartela başarıyla eklendi"),z(!1)),i(),R(null)},X=b=>{if(b.preventDefault(),!C.trim()){T.error("En az bir kartela adı girmelisiniz");return}const H=C.split(`
`).map(d=>d.trim()).filter(d=>d.length>0);if(H.length===0){T.error("Geçerli kartela adı bulunamadı");return}const ce=s.products.map(d=>d.code).filter(d=>d.startsWith("ORM-")).map(d=>{const q=d.match(/ORM-(\d+)/);return q?parseInt(q[1]):0});let Ne=ce.length>0?Math.max(...ce)+1:1;H.forEach(d=>{const q=`ORM-${Ne.toString().padStart(4,"0")}`;t({name:d,code:q,category:"Genel",stockQuantity:0,minStockLevel:0}),Ne++}),T.success(`${H.length} kartela başarıyla eklendi`),K(!1),W("")},me=b=>{if(b.preventDefault(),!!B){if(A.quantity<=0){T.error("Miktar 0'dan büyük olmalı");return}m(B.id,A.quantity,A.type,A.reason),T.success("Stok başarıyla güncellendi"),O(!1),R(null)}},ve=()=>{try{const b=ue.exportProductsToCSV(s.products);ue.downloadCSV(b,`kartelalar-${new Date().toISOString().split("T")[0]}.csv`),T.success("Kartelalar başarıyla dışa aktarıldı")}catch(b){T.error("Dışa aktarma sırasında hata oluştu")}},He=()=>{const b=ue.generateProductTemplate();ue.downloadCSV(b,"kartela-sablonu.csv"),T.success("Şablon dosyası indirildi")},Ue=b=>{const H=b.stockQuantity||0,ce=b.minStockLevel||0;return H===0?{status:"out",label:"Stokta Yok",color:"bg-red-100 text-red-800"}:H<=ce?{status:"low",label:"Düşük Stok",color:"bg-yellow-100 text-yellow-800"}:{status:"ok",label:"Stokta",color:"bg-green-100 text-green-800"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Kartelalar"}),e.jsxs("p",{className:"text-gray-600",children:["Toplam ",s.products.length," kartela"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(N,{variant:"outline",icon:ge,onClick:He,size:"sm",children:"Şablon İndir"}),e.jsx(N,{variant:"outline",icon:Ke,onClick:_,size:"sm",children:"Toplu Ekle"}),e.jsx(N,{variant:"secondary",icon:ge,onClick:ve,size:"sm",children:"Dışa Aktar"}),e.jsx(N,{variant:"primary",icon:le,onClick:w,children:"Yeni Kartela"})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(F,{icon:je,placeholder:"Kartela ara (ad, kod, kategori, açıklama)...",value:l,onChange:b=>x(b.target.value),fullWidth:!0}),e.jsx("div",{children:e.jsxs("select",{className:"block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",value:y,onChange:b=>S(b.target.value),children:[e.jsx("option",{value:"",children:"Tüm Kategoriler"}),Y.map(b=>e.jsx("option",{value:b,children:b},b))]})})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:se.map(b=>{const H=c(b.id);return Ue(b),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:b.name}),e.jsx("div",{className:"flex items-center mb-2",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gradient-to-r from-ormen-100 to-ormen-200 text-ormen-800 border border-ormen-300",children:b.code})}),b.category&&e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border border-blue-300",children:b.category})]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(N,{variant:"ghost",size:"sm",icon:_e,onClick:()=>P(b),title:"Stok Güncelle"}),e.jsx(N,{variant:"ghost",size:"sm",icon:Le,onClick:()=>I(b)}),e.jsx(N,{variant:"ghost",size:"sm",icon:Ee,onClick:()=>h(b)}),e.jsx(N,{variant:"ghost",size:"sm",icon:ye,onClick:()=>U(b),className:"text-red-600 hover:text-red-700"})]})]}),b.description&&e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:b.description}),e.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Toplam Hareket:"}),e.jsx("span",{className:"font-medium",children:H.length})]}),e.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[e.jsx("span",{className:"text-gray-500",children:"Kayıt Tarihi:"}),e.jsx("span",{className:"font-medium",children:te(b.createdAt)})]})]})]},b.id)})}),se.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(re,{className:"w-12 h-12 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:l||y?"Kartela bulunamadı":"Henüz kartela yok"}),e.jsx("p",{className:"text-gray-500 mb-6",children:l||y?"Arama kriterlerinizi değiştirip tekrar deneyin":"İlk kartelanızı ekleyerek başlayın"}),!l&&!y&&e.jsx(N,{variant:"primary",icon:le,onClick:w,children:"İlk Kartelayı Ekle"})]}),e.jsx(J,{isOpen:k||f,onClose:()=>{z(!1),D(!1),i(),R(null)},title:f?"Kartela Düzenle":"Yeni Kartela Ekle",size:"lg",children:e.jsxs("form",{onSubmit:ie,children:[e.jsx(Z,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(F,{label:"Kartela Adı *",value:v.name,onChange:b=>M(j(g({},v),{name:b.target.value})),required:!0,fullWidth:!0}),e.jsx(F,{label:"Kartela Kodu *",value:v.code,onChange:b=>M(j(g({},v),{code:b.target.value})),required:!0,fullWidth:!0}),e.jsx(F,{label:"Kategori",value:v.category,onChange:b=>M(j(g({},v),{category:b.target.value})),fullWidth:!0})]})}),e.jsxs(ne,{children:[e.jsx(N,{variant:"ghost",onClick:()=>{z(!1),D(!1),i(),R(null)},children:"İptal"}),e.jsx(N,{type:"submit",variant:"primary",children:f?"Güncelle":"Ekle"})]})]})}),e.jsx(J,{isOpen:$,onClose:()=>{O(!1),R(null)},title:"Stok Güncelle",size:"md",children:B&&e.jsxs("form",{onSubmit:me,children:[e.jsx(Z,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-2",children:[B.name," (",B.code,")"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Mevcut Stok: ",B.stockQuantity||0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"İşlem Türü"}),e.jsxs("select",{className:"block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",value:A.type,onChange:b=>o(j(g({},A),{type:b.target.value})),children:[e.jsx("option",{value:"in",children:"Stok Girişi (+)"}),e.jsx("option",{value:"out",children:"Stok Çıkışı (-)"}),e.jsx("option",{value:"adjustment",children:"Stok Düzeltme (=)"})]})]}),e.jsx(F,{label:"Miktar",type:"number",min:"1",value:A.quantity,onChange:b=>o(j(g({},A),{quantity:parseInt(b.target.value)||0})),required:!0,fullWidth:!0}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Açıklama"}),e.jsx("textarea",{className:"block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",rows:2,value:A.reason,onChange:b=>o(j(g({},A),{reason:b.target.value})),placeholder:"Stok değişikliği sebebi..."})]})]})}),e.jsxs(ne,{children:[e.jsx(N,{variant:"ghost",onClick:()=>{O(!1),R(null)},children:"İptal"}),e.jsx(N,{type:"submit",variant:"primary",children:"Güncelle"})]})]})}),e.jsx(J,{isOpen:p,onClose:()=>{K(!1),W("")},title:"Toplu Kartela Ekleme",size:"md",children:e.jsxs("form",{onSubmit:X,children:[e.jsx(Z,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-5 h-5 text-blue-600 mt-0.5 mr-2",children:"ℹ️"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Nasıl Kullanılır"}),e.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Her satıra bir kartela adı yazın. Sistem otomatik olarak ORM-0001, ORM-0002 şeklinde kodlar oluşturacak."})]})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kartela Adları (Her satıra bir ad)"}),e.jsx("textarea",{className:"block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",rows:8,value:C,onChange:b=>W(b.target.value),placeholder:`Atlantis
Azure
Bentley
...`,required:!0}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[C.split(`
`).filter(b=>b.trim().length>0).length," kartela eklenecek"]})]})]})}),e.jsxs(ne,{children:[e.jsx(N,{variant:"ghost",onClick:()=>{K(!1),W("")},children:"İptal"}),e.jsx(N,{type:"submit",variant:"primary",children:"Kartelaları Ekle"})]})]})}),e.jsx(J,{isOpen:L,onClose:()=>{E(!1),R(null)},title:"Kartela Detayları",size:"lg",children:B&&e.jsx(Z,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kartela Adı"}),e.jsx("p",{className:"text-gray-900",children:B.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kartela Kodu"}),e.jsx("p",{className:"text-gray-900",children:B.code})]}),B.category&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kategori"}),e.jsx("p",{className:"text-gray-900",children:B.category})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Hareket Geçmişi"}),(()=>{const b=c(B.id);return b.length>0?e.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:b.map(H=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:H.customer.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[H.quantity," adet - ",te(H.createdAt)]})]}),e.jsx("span",{className:`
                            inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
                            ${H.type==="given"?"bg-red-100 text-red-800":H.type==="returned"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}
                          `,children:H.type==="given"?"Verildi":H.type==="returned"?"İade":"Satıldı"})]},H.id))}):e.jsx("p",{className:"text-gray-500 text-center py-4",children:"Henüz hareket bulunmuyor"})})()]})]})})})]})},oa=()=>{const{state:s,addStockItem:t,updateStockItem:a,deleteStockItem:r}=xe(),[n,c]=u.useState(""),[m,l]=u.useState(""),[x,y]=u.useState(!1),[S,k]=u.useState(!1),[z,f]=u.useState(!1),[D,L]=u.useState(null),[E,$]=u.useState({name:"",quantity:0,location:"",notes:""}),[O,p]=u.useState(""),K=u.useMemo(()=>{const i=s.stockItems.map(w=>w.location).filter(Boolean);return[...new Set(i)]},[s.stockItems]),B=u.useMemo(()=>s.stockItems.filter(i=>{const w=G(i.name,n)||G(i.location,n)||G(i.notes||"",n),h=!m||i.location===m;return w&&h}),[s.stockItems,n,m]),R=()=>{$({name:"",quantity:0,location:"",notes:""})},A=()=>{y(!0),R()},o=()=>{p(""),f(!0)},v=i=>{L(i),$({name:i.name,quantity:i.quantity,location:i.location,notes:i.notes||""}),k(!0)},M=i=>{window.confirm(`${i.name} stok kaydını silmek istediğinizden emin misiniz?`)&&(r(i.id),T.success("Stok kaydı başarıyla silindi"))},C=i=>{if(i.preventDefault(),!E.name.trim()){T.error("Kartela adı gerekli");return}if(!E.location.trim()){T.error("Konum bilgisi gerekli");return}if(E.quantity<0){T.error("Miktar 0 veya pozitif olmalı");return}const w={name:E.name.trim(),quantity:E.quantity,location:E.location.trim(),notes:E.notes.trim()||void 0};S&&D?(a(g(g({},D),w)),T.success("Stok kaydı başarıyla güncellendi"),k(!1)):(t(w),T.success("Stok kaydı başarıyla eklendi"),y(!1)),R(),L(null)},W=i=>{if(i.preventDefault(),!O.trim()){T.error("Stok verilerini girmelisiniz");return}const w=O.split(`
`).map(P=>P.trim()).filter(P=>P.length>0);if(w.length===0){T.error("Geçerli stok verisi bulunamadı");return}let h=0,I=0;w.forEach((P,_)=>{try{const U=P.split(/[|,]/).map(ve=>ve.trim());if(U.length<3){T.error(`Satır ${_+1}: Format hatalı. Örnek: "Atlantis | 200 | Depo-1"`),I++;return}const ie=U[0],X=parseInt(U[1])||0,me=U[2];if(!ie||!me){T.error(`Satır ${_+1}: Kartela adı ve konum gerekli`),I++;return}t({name:ie,quantity:X,location:me,notes:U[3]||void 0}),h++}catch(U){I++}}),h>0&&T.success(`${h} stok kaydı başarıyla eklendi`),I>0&&T.error(`${I} kayıt eklenemedi`),f(!1),p("")},Y=()=>B.reduce((i,w)=>i+w.quantity,0),se=()=>B.filter(i=>i.quantity<=10);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Kartela Stok"}),e.jsxs("p",{className:"text-gray-600",children:["Toplam ",s.stockItems.length," kayıt - ",Y()," adet"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(N,{variant:"outline",icon:le,onClick:o,size:"sm",children:"Toplu Ekle"}),e.jsx(N,{variant:"primary",icon:le,onClick:A,children:"Yeni Stok Kaydı"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-400 to-blue-600 rounded-lg shadow-md",children:e.jsx(re,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Kayıt"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.stockItems.length})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-green-400 to-green-600 rounded-lg shadow-md",children:e.jsx(_e,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Miktar"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Y()})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-red-400 to-red-600 rounded-lg shadow-md",children:e.jsx(Ae,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Düşük Stok"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:se().length})]})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(F,{icon:je,placeholder:"Stok ara (ad, konum, not)...",value:n,onChange:i=>c(i.target.value),fullWidth:!0}),e.jsx("div",{children:e.jsxs("select",{className:"block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",value:m,onChange:i=>l(i.target.value),children:[e.jsx("option",{value:"",children:"Tüm Konumlar"}),K.map(i=>e.jsx("option",{value:i,children:i},i))]})})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:B.map(i=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:i.name}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(re,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsxs("span",{className:`font-medium ${i.quantity<=10?"text-red-600":i.quantity<=50?"text-yellow-600":"text-green-600"}`,children:[i.quantity," adet"]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(It,{className:"w-4 h-4 mr-2 text-gray-400"}),i.location]})]})]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(N,{variant:"ghost",size:"sm",icon:Ee,onClick:()=>v(i)}),e.jsx(N,{variant:"ghost",size:"sm",icon:ye,onClick:()=>M(i),className:"text-red-600 hover:text-red-700"})]})]}),i.notes&&e.jsx("p",{className:"text-sm text-gray-600 mb-4 bg-gray-50 p-2 rounded",children:i.notes}),e.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Oluşturma:"}),e.jsx("span",{className:"font-medium",children:te(i.createdAt)})]}),e.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[e.jsx("span",{className:"text-gray-500",children:"Güncelleme:"}),e.jsx("span",{className:"font-medium",children:te(i.updatedAt)})]})]})]},i.id))}),B.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(re,{className:"w-12 h-12 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:n||m?"Stok kaydı bulunamadı":"Henüz stok kaydı yok"}),e.jsx("p",{className:"text-gray-500 mb-6",children:n||m?"Arama kriterlerinizi değiştirip tekrar deneyin":"İlk stok kaydınızı ekleyerek başlayın"}),!n&&!m&&e.jsx(N,{variant:"primary",icon:le,onClick:A,children:"İlk Stok Kaydını Ekle"})]}),e.jsx(J,{isOpen:x||S,onClose:()=>{y(!1),k(!1),R(),L(null)},title:S?"Stok Kaydı Düzenle":"Yeni Stok Kaydı",size:"md",children:e.jsxs("form",{onSubmit:C,children:[e.jsx(Z,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(F,{label:"Kartela Adı *",value:E.name,onChange:i=>$(j(g({},E),{name:i.target.value})),required:!0,fullWidth:!0}),e.jsx(F,{label:"Miktar *",type:"number",min:"0",value:E.quantity,onChange:i=>$(j(g({},E),{quantity:parseInt(i.target.value)||0})),required:!0,fullWidth:!0}),e.jsx(F,{label:"Konum *",value:E.location,onChange:i=>$(j(g({},E),{location:i.target.value})),placeholder:"Depo-1, Raf-A, vb.",required:!0,fullWidth:!0}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notlar"}),e.jsx("textarea",{className:"block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",rows:3,value:E.notes,onChange:i=>$(j(g({},E),{notes:i.target.value})),placeholder:"Ek bilgiler..."})]})]})}),e.jsxs(ne,{children:[e.jsx(N,{variant:"ghost",onClick:()=>{y(!1),k(!1),R(),L(null)},children:"İptal"}),e.jsx(N,{type:"submit",variant:"primary",children:S?"Güncelle":"Ekle"})]})]})}),e.jsx(J,{isOpen:z,onClose:()=>{f(!1),p("")},title:"Toplu Stok Ekleme",size:"lg",children:e.jsxs("form",{onSubmit:W,children:[e.jsx(Z,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-5 h-5 text-blue-600 mt-0.5 mr-2",children:"ℹ️"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Format"}),e.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Her satıra: ",e.jsx("strong",{children:"Kartela Adı | Miktar | Konum | Notlar (opsiyonel)"})]}),e.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Örnek: Atlantis | 200 | Depo-2 | VIP müşteri için"})]})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stok Verileri"}),e.jsx("textarea",{className:"block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",rows:10,value:O,onChange:i=>p(i.target.value),placeholder:`Atlantis | 200 | Depo-2
Azure | 150 | Depo-1
Bentley | 75 | Raf-A | Özel seri`,required:!0}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[O.split(`
`).filter(i=>i.trim().length>0).length," kayıt eklenecek"]})]})]})}),e.jsxs(ne,{children:[e.jsx(N,{variant:"ghost",onClick:()=>{f(!1),p("")},children:"İptal"}),e.jsx(N,{type:"submit",variant:"primary",children:"Stok Kayıtlarını Ekle"})]})]})})]})},ca=()=>{const{state:s,addTransaction:t,updateTransaction:a,deleteTransaction:r,getTransactionsWithDetails:n}=xe(),[c,m]=u.useState(""),[l,x]=u.useState(""),[y,S]=u.useState(""),[k,z]=u.useState(""),[f,D]=u.useState(""),[L,E]=u.useState(!1),[$,O]=u.useState(!1),[p,K]=u.useState(!1),[B,R]=u.useState(!1),[A,o]=u.useState(!1),[v,M]=u.useState(null),[C,W]=u.useState(null),[Y,se]=u.useState([]),[i,w]=u.useState({type:"given",notes:""}),h=n(),I=u.useMemo(()=>h.filter(d=>{const q=G(d.customer.name,c)||G(d.product.name,c)||G(d.product.code,c)||G(d.notes||"",c),ae=!l||d.type===l,de=!y||d.customerId===y,Ht=!k||d.productId===k;let ot=!0;return f&&(ot=new Date(d.createdAt).toISOString().split("T")[0]===f),q&&ae&&de&&Ht&&ot}),[h,c,l,y,k,f]),P=()=>{w({type:"given",notes:""}),W(null),se([])},_=()=>{E(!0),P()},U=d=>{W(d),E(!1),O(!0)},ie=d=>{se(q=>q.find(de=>de.id===d.id)?q.filter(de=>de.id!==d.id):[...q,j(g({},d),{quantity:1})])},X=(d,q)=>{se(ae=>ae.map(de=>de.id===d?j(g({},de),{quantity:q}):de))},me=()=>{if(Y.length===0){T.error("En az bir kartela seçmelisiniz");return}O(!1),K(!0)},ve=()=>{Y.forEach(d=>{t({customerId:C.id,productId:d.id,type:i.type,quantity:d.quantity,notes:i.notes.trim()||void 0})}),T.success(`${Y.length} kartela hareketi başarıyla eklendi`),K(!1),P()},He=d=>{M(d),w({type:d.type,notes:d.notes||""}),R(!0)},Ue=d=>{M(d),o(!0)},b=d=>{const q=h.find(ae=>ae.id===d.id);q&&window.confirm(`${q.customer.name} - ${q.product.name} hareketini silmek istediğinizden emin misiniz?`)&&(r(d.id),T.success("Hareket başarıyla silindi"))},H=d=>{d.preventDefault(),v&&(a(j(g({},v),{type:i.type,notes:i.notes.trim()||void 0})),T.success("Hareket başarıyla güncellendi"),R(!1)),P(),M(null)},ce=d=>{switch(d){case"given":return"Verildi";case"returned":return"İade";case"sold":return"Satıldı";default:return d}},Ne=d=>{switch(d){case"given":return"bg-red-100 text-red-800";case"returned":return"bg-green-100 text-green-800";case"sold":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Hareketler"}),e.jsxs("p",{className:"text-gray-600",children:["Toplam ",h.length," hareket"]})]}),e.jsx(N,{variant:"primary",icon:le,onClick:_,children:"Yeni Hareket"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:[e.jsx(F,{icon:je,placeholder:"Hareket ara...",value:c,onChange:d=>m(d.target.value),fullWidth:!0}),e.jsx("div",{children:e.jsxs("select",{className:"block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",value:l,onChange:d=>x(d.target.value),children:[e.jsx("option",{value:"",children:"Tüm Türler"}),e.jsx("option",{value:"given",children:"Verildi"}),e.jsx("option",{value:"returned",children:"İade"}),e.jsx("option",{value:"sold",children:"Satıldı"})]})}),e.jsx("div",{children:e.jsxs("select",{className:"block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",value:y,onChange:d=>S(d.target.value),children:[e.jsx("option",{value:"",children:"Tüm Müşteriler"}),s.customers.map(d=>e.jsx("option",{value:d.id,children:d.name},d.id))]})}),e.jsx("div",{children:e.jsxs("select",{className:"block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",value:k,onChange:d=>z(d.target.value),children:[e.jsx("option",{value:"",children:"Tüm Kartelalar"}),s.products.map(d=>e.jsxs("option",{value:d.id,children:[d.name," (",d.code,")"]},d.id))]})}),e.jsx(F,{type:"date",value:f,onChange:d=>D(d.target.value),fullWidth:!0})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Müşteri"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kartela"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tür"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Miktar"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tarih"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"İşlemler"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:I.map(d=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-400 to-purple-600 rounded-full flex items-center justify-center mr-3 shadow-md",children:e.jsx(Et,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:d.customer.name}),d.customer.company&&e.jsx("div",{className:"text-sm text-gray-500",children:d.customer.company})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-teal-400 to-teal-600 rounded-full flex items-center justify-center mr-3 shadow-md",children:e.jsx(re,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:d.product.name}),e.jsx("div",{className:"text-sm text-gray-500",children:d.product.code})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Ne(d.type)}`,children:ce(d.type)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:d.quantity}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:gt(d.createdAt)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(N,{variant:"ghost",size:"sm",icon:Le,onClick:()=>Ue(d)}),e.jsx(N,{variant:"ghost",size:"sm",icon:Ee,onClick:()=>He(d)}),e.jsx(N,{variant:"ghost",size:"sm",icon:ye,onClick:()=>b(d),className:"text-red-600 hover:text-red-700"})]})})]},d.id))})]})}),I.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(at,{className:"w-12 h-12 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:c||l||y||k||f?"Hareket bulunamadı":"Henüz hareket yok"}),e.jsx("p",{className:"text-gray-500 mb-6",children:c||l||y||k||f?"Arama kriterlerinizi değiştirip tekrar deneyin":"İlk hareketinizi ekleyerek başlayın"}),!c&&!l&&!y&&!k&&!f&&e.jsx(N,{variant:"primary",icon:le,onClick:_,children:"İlk Hareketi Ekle"})]})]}),e.jsx(J,{isOpen:B,onClose:()=>{R(!1),P(),M(null)},title:"Hareket Düzenle",size:"md",children:e.jsxs("form",{onSubmit:H,children:[e.jsx(Z,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hareket Türü *"}),e.jsxs("select",{className:"block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-ormen-500 focus:border-ormen-500",value:i.type,onChange:d=>w(j(g({},i),{type:d.target.value})),required:!0,children:[e.jsx("option",{value:"given",children:"Verildi"}),e.jsx("option",{value:"returned",children:"İade"}),e.jsx("option",{value:"sold",children:"Satıldı"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notlar"}),e.jsx("textarea",{className:"block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-ormen-500 focus:border-ormen-500",rows:3,value:i.notes,onChange:d=>w(j(g({},i),{notes:d.target.value})),placeholder:"Hareket ile ilgili notlar..."})]})]})}),e.jsxs(ne,{children:[e.jsx(N,{variant:"ghost",onClick:()=>{R(!1),P(),M(null)},children:"İptal"}),e.jsx(N,{type:"submit",variant:"primary",children:"Güncelle"})]})]})}),e.jsx(J,{isOpen:L,onClose:()=>{E(!1),P()},title:"Müşteri Seçin",size:"lg",children:e.jsx(Z,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(F,{icon:je,placeholder:"Müşteri ara...",value:c,onChange:d=>m(d.target.value),fullWidth:!0}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-96 overflow-y-auto",children:s.customers.filter(d=>G(d.name,c)||G(d.company||"",c)).map(d=>e.jsxs("button",{onClick:()=>U(d),className:"text-left p-4 border border-gray-200 rounded-lg hover:bg-gray-50 hover:border-ormen-300 transition-colors",children:[e.jsx("div",{className:"font-medium text-gray-900",children:d.name}),d.company&&e.jsx("div",{className:"text-sm text-gray-500",children:d.company}),d.phone&&e.jsx("div",{className:"text-sm text-gray-500",children:d.phone})]},d.id))})]})})}),e.jsxs(J,{isOpen:$,onClose:()=>{O(!1),P()},title:`Kartela Seçin - ${C==null?void 0:C.name}`,size:"lg",children:[e.jsx(Z,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hareket Türü"}),e.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",value:i.type,onChange:d=>w(j(g({},i),{type:d.target.value})),children:[e.jsx("option",{value:"given",children:"Verildi"}),e.jsx("option",{value:"returned",children:"İade"}),e.jsx("option",{value:"sold",children:"Satıldı"})]})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Seçilen: ",Y.length," kartela"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-96 overflow-y-auto",children:s.products.map(d=>{const q=Y.find(ae=>ae.id===d.id);return e.jsx("div",{className:`p-4 border rounded-lg transition-colors cursor-pointer ${q?"border-ormen-500 bg-ormen-50":"border-gray-200 hover:bg-gray-50"}`,onClick:()=>ie(d),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:d.name}),e.jsx("div",{className:"text-sm text-gray-500",children:d.code}),d.category&&e.jsx("div",{className:"text-xs text-gray-400",children:d.category})]}),q&&e.jsxs("div",{className:"ml-4 flex items-center space-x-2",children:[e.jsx("input",{type:"number",min:"1",value:q.quantity,onChange:ae=>X(d.id,parseInt(ae.target.value)||1),onClick:ae=>ae.stopPropagation(),className:"w-16 px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-ormen-500"}),e.jsx("span",{className:"text-sm text-gray-500",children:"adet"})]})]})},d.id)})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notlar"}),e.jsx("textarea",{className:"block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-ormen-500 focus:border-ormen-500",rows:2,value:i.notes,onChange:d=>w(j(g({},i),{notes:d.target.value})),placeholder:"Hareket ile ilgili notlar..."})]})]})}),e.jsxs(ne,{children:[e.jsx(N,{variant:"ghost",onClick:()=>{O(!1),E(!0)},children:"Geri"}),e.jsxs(N,{variant:"primary",onClick:me,disabled:Y.length===0,children:["Önizleme (",Y.length,")"]})]})]}),e.jsxs(J,{isOpen:p,onClose:()=>{K(!1),O(!0)},title:"Hareket Önizlemesi",size:"md",children:[e.jsx(Z,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Müşteri Bilgileri"}),e.jsx("p",{className:"text-gray-700",children:C==null?void 0:C.name}),(C==null?void 0:C.company)&&e.jsx("p",{className:"text-sm text-gray-500",children:C.company})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Seçilen Kartelalar"}),e.jsx("div",{className:"space-y-2",children:Y.map(d=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-gray-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:d.name}),e.jsx("div",{className:"text-sm text-gray-500",children:d.code})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-medium",children:[d.quantity," adet"]}),e.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${i.type==="given"?"bg-red-100 text-red-800":i.type==="returned"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:i.type==="given"?"Verildi":i.type==="returned"?"İade":"Satıldı"})]})]},d.id))})]}),i.notes&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Notlar"}),e.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg",children:i.notes})]})]})}),e.jsxs(ne,{children:[e.jsx(N,{variant:"ghost",onClick:()=>{K(!1),O(!0)},children:"Düzenle"}),e.jsx(N,{variant:"primary",onClick:ve,children:"Kaydet"})]})]}),e.jsx(J,{isOpen:A,onClose:()=>{o(!1),M(null)},title:"Hareket Detayları",size:"md",children:v&&e.jsx(Z,{children:(()=>{const d=h.find(q=>q.id===v.id);return d?e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Müşteri"}),e.jsx("p",{className:"text-gray-900",children:d.customer.name}),d.customer.company&&e.jsx("p",{className:"text-sm text-gray-500",children:d.customer.company})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kartela"}),e.jsx("p",{className:"text-gray-900",children:d.product.name}),e.jsx("p",{className:"text-sm text-gray-500",children:d.product.code})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hareket Türü"}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Ne(d.type)}`,children:ce(d.type)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Miktar"}),e.jsx("p",{className:"text-gray-900",children:d.quantity})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tarih"}),e.jsx("p",{className:"text-gray-900",children:gt(d.createdAt)})]}),d.notes&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notlar"}),e.jsx("p",{className:"text-gray-900",children:d.notes})]})]})}):null})()})})]})},da=()=>{const{state:s,getTransactionsWithDetails:t,getDashboardStats:a}=xe(),[r,n]=u.useState(""),[c,m]=u.useState(""),[l,x]=u.useState("overview"),y=t();a();const S=u.useMemo(()=>y.filter(p=>{const K=new Date(p.createdAt),B=r?new Date(r):null,R=c?new Date(c):null;return!(B&&K<B||R&&K>R)}),[y,r,c]),k=u.useMemo(()=>{const p=s.customers.map(A=>{const o=S.filter(C=>C.customerId===A.id),v=o.reduce((C,W)=>C+W.quantity,0),M=o.length>0?new Date(Math.max(...o.map(C=>new Date(C.createdAt).getTime()))):null;return{customer:A,transactionCount:o.length,totalQuantity:v,lastTransaction:M,givenCount:o.filter(C=>C.type==="given").length,returnedCount:o.filter(C=>C.type==="returned").length,soldCount:o.filter(C=>C.type==="sold").length}}).sort((A,o)=>o.transactionCount-A.transactionCount),K=s.products.map(A=>{const o=S.filter(C=>C.productId===A.id),v=o.reduce((C,W)=>C+W.quantity,0),M=(A.stockQuantity||0)<=(A.minStockLevel||0)?"low":"ok";return{product:A,transactionCount:o.length,totalQuantity:v,stockStatus:M,currentStock:A.stockQuantity||0,minStock:A.minStockLevel||0,givenQuantity:o.filter(C=>C.type==="given").reduce((C,W)=>C+W.quantity,0),returnedQuantity:o.filter(C=>C.type==="returned").reduce((C,W)=>C+W.quantity,0),soldQuantity:o.filter(C=>C.type==="sold").reduce((C,W)=>C+W.quantity,0)}}).sort((A,o)=>o.transactionCount-A.transactionCount),B=Object.entries(yt(S,A=>te(A.createdAt))).map(([A,o])=>({date:A,count:o.length,totalQuantity:o.reduce((v,M)=>v+M.quantity,0),givenCount:o.filter(v=>v.type==="given").length,returnedCount:o.filter(v=>v.type==="returned").length,soldCount:o.filter(v=>v.type==="sold").length})).sort((A,o)=>new Date(A.date).getTime()-new Date(o.date).getTime()),R=Object.entries(yt(s.products,A=>A.category||"Kategorisiz")).map(([A,o])=>{const v=S.filter(M=>o.some(C=>C.id===M.productId));return{category:A,productCount:o.length,transactionCount:v.length,totalQuantity:v.reduce((M,C)=>M+C.quantity,0),totalStock:o.reduce((M,C)=>M+(C.stockQuantity||0),0)}}).sort((A,o)=>o.transactionCount-A.transactionCount);return{customerStats:p,productStats:K,dailyActivity:B,categoryStats:R,summary:{totalTransactions:S.length,totalQuantity:S.reduce((A,o)=>A+o.quantity,0),activeCustomers:p.filter(A=>A.transactionCount>0).length,activeProducts:K.filter(A=>A.transactionCount>0).length,lowStockProducts:K.filter(A=>A.stockStatus==="low").length}}},[s,S]),z=()=>{const p=f(),K=new Blob([p],{type:"text/plain;charset=utf-8"}),B=URL.createObjectURL(K),R=document.createElement("a");R.href=B,R.download=`rapor-${te(new Date)}.txt`,R.click(),URL.revokeObjectURL(B)},f=()=>{const{summary:p,customerStats:K,productStats:B,dailyActivity:R,categoryStats:A}=k;let o=`KARTELA YÖNETİM SİSTEMİ RAPORU
`;return o+=`Rapor Tarihi: ${te(new Date)}
`,o+=`Dönem: ${r||"Başlangıç"} - ${c||"Bugün"}

`,o+=`ÖZET
`,o+=`=====
`,o+=`Toplam Hareket: ${p.totalTransactions}
`,o+=`Toplam Miktar: ${p.totalQuantity}
`,o+=`Aktif Müşteri: ${p.activeCustomers}
`,o+=`Aktif Kartela: ${p.activeProducts}
`,o+=`Düşük Stok: ${p.lowStockProducts}

`,o+=`EN AKTİF MÜŞTERİLER
`,o+=`==================
`,K.slice(0,10).forEach((v,M)=>{o+=`${M+1}. ${v.customer.name} - ${v.transactionCount} hareket
`}),o+=`
`,o+=`EN ÇOK KULLANILAN KARTELALAR
`,o+=`===========================
`,B.slice(0,10).forEach((v,M)=>{o+=`${M+1}. ${v.product.name} (${v.product.code}) - ${v.transactionCount} hareket
`}),o+=`
`,o+=`KATEGORİ ANALİZİ
`,o+=`===============
`,A.forEach(v=>{o+=`${v.category}: ${v.productCount} ürün, ${v.transactionCount} hareket
`}),o},D=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-400 to-blue-600 rounded-lg shadow-md",children:e.jsx(Dt,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Hareket"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:k.summary.totalTransactions})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-green-400 to-green-600 rounded-lg shadow-md",children:e.jsx(_e,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Miktar"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:k.summary.totalQuantity})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-400 to-purple-600 rounded-lg shadow-md",children:e.jsx(Pe,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Aktif Müşteri"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:k.summary.activeCustomers})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-lg shadow-md",children:e.jsx(re,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Aktif Kartela"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:k.summary.activeProducts})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-red-400 to-red-600 rounded-lg shadow-md",children:e.jsx(re,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Düşük Stok"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:k.summary.lowStockProducts})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Günlük Aktivite"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-2 text-sm font-medium text-gray-600",children:"Tarih"}),e.jsx("th",{className:"text-left py-2 text-sm font-medium text-gray-600",children:"Hareket"}),e.jsx("th",{className:"text-left py-2 text-sm font-medium text-gray-600",children:"Miktar"}),e.jsx("th",{className:"text-left py-2 text-sm font-medium text-gray-600",children:"Verildi"}),e.jsx("th",{className:"text-left py-2 text-sm font-medium text-gray-600",children:"İade"}),e.jsx("th",{className:"text-left py-2 text-sm font-medium text-gray-600",children:"Satıldı"})]})}),e.jsx("tbody",{children:k.dailyActivity.slice(-10).map(p=>e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-2 text-sm text-gray-900",children:p.date}),e.jsx("td",{className:"py-2 text-sm text-gray-900",children:p.count}),e.jsx("td",{className:"py-2 text-sm text-gray-900",children:p.totalQuantity}),e.jsx("td",{className:"py-2 text-sm text-red-600",children:p.givenCount}),e.jsx("td",{className:"py-2 text-sm text-green-600",children:p.returnedCount}),e.jsx("td",{className:"py-2 text-sm text-blue-600",children:p.soldCount})]},p.date))})]})})]})]}),L=()=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Müşteri Analizi"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-2 text-sm font-medium text-gray-600",children:"Müşteri"}),e.jsx("th",{className:"text-left py-2 text-sm font-medium text-gray-600",children:"Hareket"}),e.jsx("th",{className:"text-left py-2 text-sm font-medium text-gray-600",children:"Miktar"}),e.jsx("th",{className:"text-left py-2 text-sm font-medium text-gray-600",children:"Verildi"}),e.jsx("th",{className:"text-left py-2 text-sm font-medium text-gray-600",children:"İade"}),e.jsx("th",{className:"text-left py-2 text-sm font-medium text-gray-600",children:"Satıldı"}),e.jsx("th",{className:"text-left py-2 text-sm font-medium text-gray-600",children:"Son Hareket"})]})}),e.jsx("tbody",{children:k.customerStats.map(p=>e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-2",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.customer.name}),p.customer.company&&e.jsx("div",{className:"text-sm text-gray-500",children:p.customer.company})]})}),e.jsx("td",{className:"py-2 text-sm text-gray-900",children:p.transactionCount}),e.jsx("td",{className:"py-2 text-sm text-gray-900",children:p.totalQuantity}),e.jsx("td",{className:"py-2 text-sm text-red-600",children:p.givenCount}),e.jsx("td",{className:"py-2 text-sm text-green-600",children:p.returnedCount}),e.jsx("td",{className:"py-2 text-sm text-blue-600",children:p.soldCount}),e.jsx("td",{className:"py-2 text-sm text-gray-500",children:p.lastTransaction?te(p.lastTransaction):"-"})]},p.customer.id))})]})})]}),E=()=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Kartela Analizi"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-2 text-sm font-medium text-gray-600",children:"Kartela"}),e.jsx("th",{className:"text-left py-2 text-sm font-medium text-gray-600",children:"Hareket"}),e.jsx("th",{className:"text-left py-2 text-sm font-medium text-gray-600",children:"Miktar"}),e.jsx("th",{className:"text-left py-2 text-sm font-medium text-gray-600",children:"Stok"}),e.jsx("th",{className:"text-left py-2 text-sm font-medium text-gray-600",children:"Verildi"}),e.jsx("th",{className:"text-left py-2 text-sm font-medium text-gray-600",children:"İade"}),e.jsx("th",{className:"text-left py-2 text-sm font-medium text-gray-600",children:"Satıldı"})]})}),e.jsx("tbody",{children:k.productStats.map(p=>e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-2",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.product.name}),e.jsx("div",{className:"text-sm text-gray-500",children:p.product.code})]})}),e.jsx("td",{className:"py-2 text-sm text-gray-900",children:p.transactionCount}),e.jsx("td",{className:"py-2 text-sm text-gray-900",children:p.totalQuantity}),e.jsx("td",{className:"py-2",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-900",children:p.currentStock}),p.stockStatus==="low"&&e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Düşük"})]})}),e.jsx("td",{className:"py-2 text-sm text-red-600",children:p.givenQuantity}),e.jsx("td",{className:"py-2 text-sm text-green-600",children:p.returnedQuantity}),e.jsx("td",{className:"py-2 text-sm text-blue-600",children:p.soldQuantity})]},p.product.id))})]})})]}),$=()=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Kategori Analizi"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:k.categoryStats.map(p=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:p.category}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Ürün Sayısı:"}),e.jsx("span",{className:"font-medium",children:p.productCount})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Hareket Sayısı:"}),e.jsx("span",{className:"font-medium",children:p.transactionCount})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Toplam Miktar:"}),e.jsx("span",{className:"font-medium",children:p.totalQuantity})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Toplam Stok:"}),e.jsx("span",{className:"font-medium",children:p.totalStock})]})]})]},p.category))})]}),O=()=>{switch(l){case"overview":return D();case"customers":return L();case"products":return E();case"categories":return $();default:return D()}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Raporlar"}),e.jsx("p",{className:"text-gray-600",children:"Detaylı analiz ve raporlar"})]}),e.jsx(N,{variant:"primary",icon:ge,onClick:z,children:"Raporu Dışa Aktar"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(F,{label:"Başlangıç Tarihi",type:"date",value:r,onChange:p=>n(p.target.value),fullWidth:!0}),e.jsx(F,{label:"Bitiş Tarihi",type:"date",value:c,onChange:p=>m(p.target.value),fullWidth:!0}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rapor Türü"}),e.jsxs("select",{className:"block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",value:l,onChange:p=>x(p.target.value),children:[e.jsx("option",{value:"overview",children:"Genel Bakış"}),e.jsx("option",{value:"customers",children:"Müşteri Analizi"}),e.jsx("option",{value:"products",children:"Kartela Analizi"}),e.jsx("option",{value:"categories",children:"Kategori Analizi"})]})]})]})}),O()]})},Ce=[{text:"Her yeni başlangıç, bir önceki sondan doğar.",author:"Lucius Annaeus Seneca",category:"seneca"},{text:"Zaman bizim en değerli varlığımızdır, onu akıllıca kullanmalıyız.",author:"Lucius Annaeus Seneca",category:"seneca"},{text:"Büyük işler cesaret, güç ve kararlılık gerektirir.",author:"Lucius Annaeus Seneca",category:"seneca"},{text:"Mutluluk erdemde bulunur, zenginlikte değil.",author:"Lucius Annaeus Seneca",category:"seneca"},{text:"Öfke, geçici bir delilik halidir.",author:"Lucius Annaeus Seneca",category:"seneca"},{text:"Hayat uzun değildir, ama biz onu uzun kılabiliriz.",author:"Lucius Annaeus Seneca",category:"seneca"},{text:"Bilgelik, tecrübenin kızıdır.",author:"Lucius Annaeus Seneca",category:"seneca"},{text:"Şans, hazırlığın fırsatla buluşmasıdır.",author:"Lucius Annaeus Seneca",category:"seneca"},{text:"Kendini tanımak, tüm bilgilerin başlangıcıdır.",author:"Lucius Annaeus Seneca",category:"seneca"},{text:"Sabır, tüm acıların ilacıdır.",author:"Lucius Annaeus Seneca",category:"seneca"},{text:"Bugünü yaşa. Dünü unut, yarını merak etme.",author:"Marcus Aurelius",category:"marcus"},{text:"Düşünceleriniz gerçekliğinizi şekillendirir.",author:"Marcus Aurelius",category:"marcus"},{text:"Değiştiremediğin şeyleri kabul et, değiştirebileceklerini değiştir.",author:"Marcus Aurelius",category:"marcus"},{text:"En iyi intikam, düşmanın gibi olmamaktır.",author:"Marcus Aurelius",category:"marcus"},{text:"Güçlü olan, kendini kontrol edebilen kişidir.",author:"Marcus Aurelius",category:"marcus"},{text:"Her sabah yeniden doğarız. Bugün ne yapacağımız en önemli şeydir.",author:"Marcus Aurelius",category:"marcus"},{text:"Zihnin huzuru, düzenli düşüncenin ürünüdür.",author:"Marcus Aurelius",category:"marcus"},{text:"Başkalarını değiştirmeye çalışmak yerine, kendini değiştir.",author:"Marcus Aurelius",category:"marcus"},{text:"Hayatın kalitesi, düşüncelerinizin kalitesine bağlıdır.",author:"Marcus Aurelius",category:"marcus"},{text:"Zorluklarla karşılaştığında, bunların seni güçlendirdiğini hatırla.",author:"Marcus Aurelius",category:"marcus"},{text:"Cesaret, korkunun üstesinden gelmektir, onu yok etmek değil.",author:"Lucius Annaeus Seneca",category:"seneca"},{text:"Gerçek zenginlik, az şeye ihtiyaç duymaktır.",author:"Lucius Annaeus Seneca",category:"seneca"},{text:"Hayatta en önemli şey, nasıl yaşayacağını öğrenmektir.",author:"Lucius Annaeus Seneca",category:"seneca"},{text:"Akıl, ruhun gözüdür.",author:"Lucius Annaeus Seneca",category:"seneca"},{text:"İyi bir vicdan, en güvenli yastıktır.",author:"Lucius Annaeus Seneca",category:"seneca"},{text:"Zaman geçer, ama bilgelik kalır.",author:"Lucius Annaeus Seneca",category:"seneca"},{text:"Başarı, hazırlık ve fırsatın buluşmasıdır.",author:"Lucius Annaeus Seneca",category:"seneca"},{text:"Kendine hakim olan, dünyaya hakim olur.",author:"Lucius Annaeus Seneca",category:"seneca"},{text:"Erdem, kendi ödülüdür.",author:"Lucius Annaeus Seneca",category:"seneca"},{text:"Büyük ruhlar, büyük zorluklarla test edilir.",author:"Lucius Annaeus Seneca",category:"seneca"},{text:"Hayat kısa değildir, biz onu kısa yaparız.",author:"Lucius Annaeus Seneca",category:"seneca"},{text:"Öğrenmeyi bıraktığın gün, yaşamayı da bırakırsın.",author:"Lucius Annaeus Seneca",category:"seneca"},{text:"Geçmişe takılma, geleceği merak etme, şimdiye odaklan.",author:"Marcus Aurelius",category:"marcus"},{text:"Mutluluk, kendi ellerindedir.",author:"Marcus Aurelius",category:"marcus"},{text:"Karakterin, davranışlarının toplamıdır.",author:"Marcus Aurelius",category:"marcus"},{text:"Sabır ve zaman, en güçlü ordulardır.",author:"Marcus Aurelius",category:"marcus"},{text:"İç huzur, dış koşullardan bağımsızdır.",author:"Marcus Aurelius",category:"marcus"},{text:"Kendini geliştirmek, en büyük yatırımdır.",author:"Marcus Aurelius",category:"marcus"},{text:"Doğru düşünce, doğru eylemin temelidir.",author:"Marcus Aurelius",category:"marcus"},{text:"Güçlü karakter, zorluklarla şekillenir.",author:"Marcus Aurelius",category:"marcus"},{text:"Bilgelik, tecrübenin en değerli meyvesidir.",author:"Marcus Aurelius",category:"marcus"},{text:"Her gün yeni bir fırsattır, onu değerlendir.",author:"Marcus Aurelius",category:"marcus"},{text:"Kendine saygı, başkalarından saygı görmenin temelidir.",author:"Marcus Aurelius",category:"marcus"},{text:"Zihinsel disiplin, en büyük güçtür.",author:"Marcus Aurelius",category:"marcus"}],ma=()=>{const[s,t]=u.useState(Ce[0]),[a,r]=u.useState("all"),[n,c]=u.useState([]),[m,l]=u.useState(!1),x=Ce.filter(f=>a==="all"||f.category===a),y=()=>{l(!0),setTimeout(()=>{const f=x.filter(L=>L.text!==s.text),D=Math.floor(Math.random()*f.length);t(f[D]||x[0]),l(!1)},300)},S=f=>{c(D=>D.includes(f)?D.filter(L=>L!==f):[...D,f])};u.useEffect(()=>{const f=setInterval(()=>{y()},3e4);return()=>clearInterval(f)},[x,s]),u.useEffect(()=>{const f=localStorage.getItem("ormen_favorite_quotes");f&&c(JSON.parse(f))},[]),u.useEffect(()=>{localStorage.setItem("ormen_favorite_quotes",JSON.stringify(n))},[n]);const k=f=>f==="seneca"?"text-purple-600":"text-blue-600",z=f=>f==="seneca"?"bg-purple-100":"bg-blue-100";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-ormen-100 rounded-full flex items-center justify-center mr-4",children:e.jsx(cs,{className:"w-6 h-6 text-ormen-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Motivasyon Köşesi"}),e.jsx("p",{className:"text-gray-600",children:"Antik bilgelik, modern motivasyon"})]})]})}),e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm border border-gray-200",children:e.jsx(lt,{})})})]}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsx(N,{variant:a==="all"?"primary":"outline",onClick:()=>r("all"),size:"sm",children:"Tümü"}),e.jsx(N,{variant:a==="seneca"?"primary":"outline",onClick:()=>r("seneca"),size:"sm",className:a==="seneca"?"bg-purple-600 hover:bg-purple-700":"border-purple-600 text-purple-600 hover:bg-purple-50",children:"Seneca"}),e.jsx(N,{variant:a==="marcus"?"primary":"outline",onClick:()=>r("marcus"),size:"sm",className:a==="marcus"?"bg-blue-600 hover:bg-blue-700":"border-blue-600 text-blue-600 hover:bg-blue-50",children:"Marcus Aurelius"})]}),e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:`bg-gradient-to-br ${s.category==="seneca"?"from-purple-50 to-purple-100 border-purple-200":"from-blue-50 to-blue-100 border-blue-200"} rounded-2xl p-8 shadow-lg border-2 transition-all duration-500 ${m?"opacity-50 scale-95":"opacity-100 scale-100"}`,children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:`w-16 h-16 ${z(s.category)} rounded-full flex items-center justify-center`,children:e.jsx(Oe,{className:`w-8 h-8 ${k(s.category)}`})})}),e.jsxs("blockquote",{className:"text-center",children:[e.jsxs("p",{className:"text-2xl md:text-3xl font-medium text-gray-800 leading-relaxed mb-6 italic",children:['"',s.text,'"']}),e.jsxs("footer",{className:"flex items-center justify-center space-x-4",children:[e.jsxs("cite",{className:`text-lg font-semibold ${k(s.category)}`,children:["— ",s.author]}),e.jsx("button",{onClick:()=>S(s.text),className:`p-2 rounded-full transition-colors ${n.includes(s.text)?"text-red-500 hover:text-red-600":"text-gray-400 hover:text-red-500"}`,children:e.jsx(Te,{className:`w-5 h-5 ${n.includes(s.text)?"fill-current":""}`})})]})]}),e.jsx("div",{className:"flex justify-center mt-8",children:e.jsx(N,{variant:"primary",icon:Tt,onClick:y,className:`${s.category==="seneca"?"bg-purple-600 hover:bg-purple-700":"bg-blue-600 hover:bg-blue-700"}`,children:"Yeni Söz"})})]})}),n.length>0&&e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx(zt,{className:"w-5 h-5 text-yellow-500 mr-2"}),"Favori Sözlerim (",n.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Ce.filter(f=>n.includes(f.text)).map((f,D)=>e.jsxs("div",{className:`p-4 rounded-lg border-l-4 ${f.category==="seneca"?"bg-purple-50 border-purple-400":"bg-blue-50 border-blue-400"}`,children:[e.jsxs("p",{className:"text-gray-800 italic mb-2",children:['"',f.text,'"']}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("cite",{className:`text-sm font-medium ${k(f.category)}`,children:["— ",f.author]}),e.jsx("button",{onClick:()=>S(f.text),className:"text-red-500 hover:text-red-600",children:e.jsx(Te,{className:"w-4 h-4 fill-current"})})]})]},D))})]}),e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(Oe,{className:"w-6 h-6 text-purple-600"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Ce.filter(f=>f.category==="seneca").length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Seneca Sözleri"})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(Oe,{className:"w-6 h-6 text-blue-600"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Ce.filter(f=>f.category==="marcus").length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Marcus Aurelius Sözleri"})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(Te,{className:"w-6 h-6 text-red-600"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Favori Sözlerim"})]})]})})]})},bt="ormen_personal_notes",ze={personal:{label:"Kişisel",color:"from-purple-400 to-purple-600",bgColor:"bg-purple-50",textColor:"text-purple-700",icon:Te},business:{label:"İş",color:"from-blue-400 to-blue-600",bgColor:"bg-blue-50",textColor:"text-blue-700",icon:xs},inspiration:{label:"İlham",color:"from-yellow-400 to-yellow-600",bgColor:"bg-yellow-50",textColor:"text-yellow-700",icon:us},goals:{label:"Hedefler",color:"from-green-400 to-green-600",bgColor:"bg-green-50",textColor:"text-green-700",icon:ms}},jt={low:{label:"Düşük",color:"bg-gray-100 text-gray-700"},medium:{label:"Orta",color:"bg-yellow-100 text-yellow-700"},high:{label:"Yüksek",color:"bg-red-100 text-red-700"}},qe=[{emoji:"🦁",name:"Aslan",message:"Cesur ol, kral gibi düşün!"},{emoji:"🐘",name:"Fil",message:"Güçlü hafıza, büyük hedefler!"},{emoji:"🦅",name:"Kartal",message:"Yüksekten bak, uzağı gör!"},{emoji:"🐺",name:"Kurt",message:"Takım ruhu, liderlik!"},{emoji:"🐯",name:"Kaplan",message:"Güç ve kararlılık!"},{emoji:"🦋",name:"Kelebek",message:"Dönüşüm ve güzellik!"}],ua=()=>{var A;const[s,t]=u.useState([]),[a,r]=u.useState(!1),[n,c]=u.useState(!1),[m,l]=u.useState(null),[x,y]=u.useState("all"),[S,k]=u.useState(qe[0]),[z,f]=u.useState({title:"",content:"",category:"personal",priority:"medium"});u.useEffect(()=>{const o=localStorage.getItem(bt);if(o){const v=JSON.parse(o).map(M=>j(g({},M),{createdAt:new Date(M.createdAt),updatedAt:new Date(M.updatedAt)}));t(v)}},[]),u.useEffect(()=>{localStorage.setItem(bt,JSON.stringify(s))},[s]),u.useEffect(()=>{const o=setInterval(()=>{k(qe[Math.floor(Math.random()*qe.length)])},1e4);return()=>clearInterval(o)},[]);const D=s.filter(o=>x==="all"?!0:x==="favorites"?o.isFavorite:o.category===x).sort((o,v)=>new Date(v.updatedAt).getTime()-new Date(o.updatedAt).getTime()),L=()=>{f({title:"",content:"",category:"personal",priority:"medium"})},E=()=>{L(),r(!0)},$=o=>{l(o),f({title:o.title,content:o.content,category:o.category,priority:o.priority}),c(!0)},O=o=>{window.confirm(`"${o.title}" notunu silmek istediğinizden emin misiniz?`)&&(t(v=>v.filter(M=>M.id!==o.id)),T.success("Not başarıyla silindi"))},p=o=>{t(v=>v.map(M=>M.id===o?j(g({},M),{isFavorite:!M.isFavorite,updatedAt:new Date}):M))},K=o=>{if(o.preventDefault(),!z.title.trim()){T.error("Not başlığı gerekli");return}if(!z.content.trim()){T.error("Not içeriği gerekli");return}const v={title:z.title.trim(),content:z.content.trim(),category:z.category,priority:z.priority};if(n&&m)t(M=>M.map(C=>C.id===m.id?j(g(g({},C),v),{updatedAt:new Date}):C)),T.success("Not başarıyla güncellendi"),c(!1);else{const M=j(g({id:crypto.randomUUID()},v),{isFavorite:!1,createdAt:new Date,updatedAt:new Date});t(C=>[M,...C]),T.success("Not başarıyla eklendi"),r(!1)}L(),l(null)},R={total:s.length,favorites:s.filter(o=>o.isFavorite).length,personal:s.filter(o=>o.category==="personal").length,business:s.filter(o=>o.category==="business").length,inspiration:s.filter(o=>o.category==="inspiration").length,goals:s.filter(o=>o.category==="goals").length};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"relative overflow-hidden",children:e.jsxs("div",{className:"bg-gradient-to-br from-ormen-400 via-ormen-500 to-ormen-600 rounded-2xl p-8 text-white shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 opacity-10",children:e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.2'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"text-6xl mr-4 animate-bounce-subtle",children:S.emoji}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Kişisel Notlarım"}),e.jsx("p",{className:"text-ormen-100 text-lg",children:S.message})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-4xl font-bold",children:R.total}),e.jsx("div",{className:"text-ormen-200",children:"Toplam Not"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ds,{className:"w-5 h-5 mr-2"}),e.jsx("span",{className:"font-medium",children:"Motivasyon Merkezi"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(zt,{className:"w-5 h-5 mr-2 text-yellow-300"}),e.jsxs("span",{children:[R.favorites," Favori"]})]})]}),e.jsx(N,{variant:"secondary",icon:le,onClick:E,className:"bg-white text-ormen-600 hover:bg-ormen-50",children:"Yeni Not"})]})]})]})}),e.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[e.jsxs(N,{variant:x==="all"?"primary":"outline",onClick:()=>y("all"),size:"sm",children:["Tümü (",R.total,")"]}),e.jsxs(N,{variant:x==="favorites"?"primary":"outline",onClick:()=>y("favorites"),size:"sm",className:x==="favorites"?"bg-red-600 hover:bg-red-700":"border-red-600 text-red-600 hover:bg-red-50",children:["⭐ Favoriler (",R.favorites,")"]}),Object.entries(ze).map(([o,v])=>{const M=v.icon;return e.jsxs(N,{variant:x===o?"primary":"outline",onClick:()=>y(o),size:"sm",className:x===o?`bg-gradient-to-r ${v.color} text-white`:`border-2 ${v.textColor} hover:${v.bgColor}`,children:[e.jsx(M,{className:"w-4 h-4 mr-1"}),v.label," (",R[o],")"]},o)})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:D.map(o=>{const v=ze[o.category],M=jt[o.priority],C=v.icon;return e.jsxs("div",{className:`${v.bgColor} rounded-xl p-6 shadow-lg border-2 border-opacity-20 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-10 h-10 bg-gradient-to-br ${v.color} rounded-full flex items-center justify-center mr-3 shadow-md`,children:e.jsx(C,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 text-lg leading-tight",children:o.title}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${M.color}`,children:M.label}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v.textColor} ${v.bgColor}`,children:v.label})]})]})]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>p(o.id),className:`p-2 rounded-full transition-colors ${o.isFavorite?"text-red-500 hover:text-red-600":"text-gray-400 hover:text-red-500"}`,children:e.jsx(Te,{className:`w-4 h-4 ${o.isFavorite?"fill-current":""}`})}),e.jsx(N,{variant:"ghost",size:"sm",icon:Ee,onClick:()=>$(o),className:"text-gray-600 hover:text-gray-800"}),e.jsx(N,{variant:"ghost",size:"sm",icon:ye,onClick:()=>O(o),className:"text-red-600 hover:text-red-700"})]})]}),e.jsx("div",{className:"mb-4",children:e.jsx("p",{className:"text-gray-700 leading-relaxed line-clamp-4",children:o.content})}),e.jsx("div",{className:"border-t border-gray-200 pt-3",children:e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Oluşturuldu: ",te(o.createdAt)]}),e.jsxs("span",{children:["Güncellendi: ",te(o.updatedAt)]})]})})]},o.id)})}),D.length===0&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"text-8xl mb-6",children:x==="favorites"?"⭐":S.emoji}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:x==="all"?"Henüz not yok":x==="favorites"?"Henüz favori not yok":`${(A=ze[x])==null?void 0:A.label} kategorisinde not yok`}),e.jsx("p",{className:"text-gray-600 mb-8 text-lg",children:x==="all"?"İlk notunu ekleyerek başla ve düşüncelerini kaydet!":x==="favorites"?"Beğendiğin notları favorilere ekle!":"Bu kategoride yeni notlar oluştur!"}),e.jsx(N,{variant:"primary",icon:le,onClick:E,size:"lg",className:"bg-gradient-to-r from-ormen-500 to-ormen-600 hover:from-ormen-600 hover:to-ormen-700",children:"İlk Notunu Oluştur"})]}),e.jsx(J,{isOpen:a||n,onClose:()=>{r(!1),c(!1),L(),l(null)},title:n?"Not Düzenle":"Yeni Not Oluştur",size:"lg",children:e.jsxs("form",{onSubmit:K,children:[e.jsx(Z,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(F,{label:"Not Başlığı *",value:z.title,onChange:o=>f(j(g({},z),{title:o.target.value})),placeholder:"Notunuza bir başlık verin...",required:!0,fullWidth:!0}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kategori *"}),e.jsx("select",{className:"block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-ormen-500 focus:border-ormen-500",value:z.category,onChange:o=>f(j(g({},z),{category:o.target.value})),required:!0,children:Object.entries(ze).map(([o,v])=>e.jsx("option",{value:o,children:v.label},o))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Öncelik *"}),e.jsx("select",{className:"block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-ormen-500 focus:border-ormen-500",value:z.priority,onChange:o=>f(j(g({},z),{priority:o.target.value})),required:!0,children:Object.entries(jt).map(([o,v])=>e.jsx("option",{value:o,children:v.label},o))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Not İçeriği *"}),e.jsx("textarea",{className:"block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-ormen-500 focus:border-ormen-500",rows:8,value:z.content,onChange:o=>f(j(g({},z),{content:o.target.value})),placeholder:"Düşüncelerinizi, fikirlerinizi, hedeflerinizi buraya yazın...",required:!0})]})]})}),e.jsxs(ne,{children:[e.jsx(N,{variant:"ghost",onClick:()=>{r(!1),c(!1),L(),l(null)},children:"İptal"}),e.jsx(N,{type:"submit",variant:"primary",icon:Ot,className:"bg-gradient-to-r from-ormen-500 to-ormen-600 hover:from-ormen-600 hover:to-ormen-700",children:n?"Güncelle":"Kaydet"})]})]})})]})},xa=()=>{const{state:s,updateSettings:t,createBackup:a,restoreBackup:r,clearAllData:n}=xe(),[c,m]=u.useState(!1),[l,x]=u.useState({companyName:s.settings.companyName,theme:s.settings.theme,language:s.settings.language,autoBackup:s.settings.autoBackup,backupInterval:s.settings.backupInterval.toString()}),y=Q.getStorageInfo(),S=D=>{D.preventDefault();const L=j(g({},s.settings),{companyName:l.companyName.trim(),theme:l.theme,language:l.language,autoBackup:l.autoBackup,backupInterval:parseInt(l.backupInterval)||7});t(L),T.success("Ayarlar başarıyla kaydedildi")},k=()=>{try{a(),T.success("Yedek başarıyla oluşturuldu")}catch(D){T.error("Yedek oluşturulurken hata oluştu")}},z=()=>{const D=document.createElement("input");D.type="file",D.accept=".json",D.onchange=L=>{var $;const E=($=L.target.files)==null?void 0:$[0];if(E){const O=new FileReader;O.onload=p=>{var K;try{const B=JSON.parse((K=p.target)==null?void 0:K.result);r(B),T.success("Yedek başarıyla geri yüklendi"),window.location.reload()}catch(B){T.error("Yedek dosyası geçersiz")}},O.readAsText(E)}},D.click()},f=()=>{n(),T.success("Tüm veriler temizlendi"),m(!1),window.location.reload()};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Ayarlar"}),e.jsx("p",{className:"text-gray-600",children:"Sistem ayarlarını yönetin"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Genel Ayarlar"}),e.jsxs("form",{onSubmit:S,className:"space-y-4",children:[e.jsx(F,{label:"Şirket Adı",value:l.companyName,onChange:D=>x(j(g({},l),{companyName:D.target.value})),fullWidth:!0}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tema"}),e.jsxs("select",{className:"block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",value:l.theme,onChange:D=>x(j(g({},l),{theme:D.target.value})),children:[e.jsx("option",{value:"light",children:"Açık Tema"}),e.jsx("option",{value:"dark",children:"Koyu Tema"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dil"}),e.jsxs("select",{className:"block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",value:l.language,onChange:D=>x(j(g({},l),{language:D.target.value})),children:[e.jsx("option",{value:"tr",children:"Türkçe"}),e.jsx("option",{value:"en",children:"English"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"autoBackup",checked:l.autoBackup,onChange:D=>x(j(g({},l),{autoBackup:D.target.checked})),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"autoBackup",className:"ml-2 block text-sm text-gray-900",children:"Otomatik yedekleme"})]}),l.autoBackup&&e.jsx(F,{label:"Yedekleme Aralığı (Gün)",type:"number",min:"1",max:"30",value:l.backupInterval,onChange:D=>x(j(g({},l),{backupInterval:D.target.value})),fullWidth:!0}),e.jsx(N,{type:"submit",variant:"primary",icon:Ot,fullWidth:!0,children:"Ayarları Kaydet"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Yedekleme & Geri Yükleme"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(hs,{className:"w-5 h-5 text-blue-600 mt-0.5 mr-2"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Yedekleme Hakkında"}),e.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Yedekleme işlemi tüm müşteri, kartela, hareket ve ayar verilerinizi JSON formatında dışa aktarır."})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsx(N,{variant:"primary",icon:ge,onClick:k,fullWidth:!0,children:"Yedek Oluştur"}),e.jsx(N,{variant:"secondary",icon:Ke,onClick:z,fullWidth:!0,children:"Yedek Geri Yükle"})]}),s.settings.lastBackup&&e.jsxs("p",{className:"text-sm text-gray-500",children:["Son yedekleme: ",new Date(s.settings.lastBackup).toLocaleString("tr-TR")]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Depolama Bilgisi"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-600",children:"Kullanılan Alan"}),e.jsx("span",{className:"font-medium",children:aa(y.used)})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(y.percentage,100)}%`}})}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["%",y.percentage.toFixed(1)," kullanılıyor"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Müşteri Sayısı:"}),e.jsx("span",{className:"font-medium ml-2",children:s.customers.length})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Kartela Sayısı:"}),e.jsx("span",{className:"font-medium ml-2",children:s.products.length})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Hareket Sayısı:"}),e.jsx("span",{className:"font-medium ml-2",children:s.transactions.length})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Stok Hareketi:"}),e.jsx("span",{className:"font-medium ml-2",children:s.stockMovements.length})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-red-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-red-900 mb-4",children:"Tehlikeli İşlemler"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(Ae,{className:"w-5 h-5 text-red-600 mt-0.5 mr-2"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Dikkat!"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:"Bu işlem tüm verilerinizi kalıcı olarak siler. Bu işlem geri alınamaz."})]})]})}),e.jsx(N,{variant:"error",icon:ye,onClick:()=>m(!0),fullWidth:!0,children:"Tüm Verileri Temizle"})]})]})]}),e.jsxs(J,{isOpen:c,onClose:()=>m(!1),title:"Tüm Verileri Temizle",size:"md",children:[e.jsx(Z,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(Ae,{className:"w-6 h-6 text-red-600 mt-0.5 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-medium text-red-800 mb-2",children:"Bu işlem geri alınamaz!"}),e.jsx("p",{className:"text-sm text-red-700",children:"Aşağıdaki veriler kalıcı olarak silinecek:"}),e.jsxs("ul",{className:"list-disc list-inside text-sm text-red-700 mt-2 space-y-1",children:[e.jsxs("li",{children:[s.customers.length," müşteri kaydı"]}),e.jsxs("li",{children:[s.products.length," kartela kaydı"]}),e.jsxs("li",{children:[s.transactions.length," hareket kaydı"]}),e.jsxs("li",{children:[s.stockMovements.length," stok hareketi"]}),e.jsx("li",{children:"Tüm sistem ayarları"})]})]})]})}),e.jsx("p",{className:"text-gray-700",children:"Devam etmeden önce verilerinizi yedeklediğinizden emin olun."})]})}),e.jsxs(ne,{children:[e.jsx(N,{variant:"ghost",onClick:()=>m(!1),children:"İptal"}),e.jsx(N,{variant:"error",icon:ye,onClick:f,children:"Evet, Tüm Verileri Sil"})]})]})]})},Ze=(s,t)=>t.some(a=>s instanceof a);let vt,Nt;function ha(){return vt||(vt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ga(){return Nt||(Nt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xe=new WeakMap,Ge=new WeakMap,Fe=new WeakMap;function ya(s){const t=new Promise((a,r)=>{const n=()=>{s.removeEventListener("success",c),s.removeEventListener("error",m)},c=()=>{a(he(s.result)),n()},m=()=>{r(s.error),n()};s.addEventListener("success",c),s.addEventListener("error",m)});return Fe.set(t,s),t}function pa(s){if(Xe.has(s))return;const t=new Promise((a,r)=>{const n=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",m),s.removeEventListener("abort",m)},c=()=>{a(),n()},m=()=>{r(s.error||new DOMException("AbortError","AbortError")),n()};s.addEventListener("complete",c),s.addEventListener("error",m),s.addEventListener("abort",m)});Xe.set(s,t)}let et={get(s,t,a){if(s instanceof IDBTransaction){if(t==="done")return Xe.get(s);if(t==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return he(s[t])},set(s,t,a){return s[t]=a,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function $t(s){et=s(et)}function fa(s){return ga().includes(s)?function(...t){return s.apply(tt(this),t),he(this.request)}:function(...t){return he(s.apply(tt(this),t))}}function ba(s){return typeof s=="function"?fa(s):(s instanceof IDBTransaction&&pa(s),Ze(s,ha())?new Proxy(s,et):s)}function he(s){if(s instanceof IDBRequest)return ya(s);if(Ge.has(s))return Ge.get(s);const t=ba(s);return t!==s&&(Ge.set(s,t),Fe.set(t,s)),t}const tt=s=>Fe.get(s);function ja(s,t,{blocked:a,upgrade:r,blocking:n,terminated:c}={}){const m=indexedDB.open(s,t),l=he(m);return r&&m.addEventListener("upgradeneeded",x=>{r(he(m.result),x.oldVersion,x.newVersion,he(m.transaction),x)}),a&&m.addEventListener("blocked",x=>a(x.oldVersion,x.newVersion,x)),l.then(x=>{c&&x.addEventListener("close",()=>c()),n&&x.addEventListener("versionchange",y=>n(y.oldVersion,y.newVersion,y))}).catch(()=>{}),l}const va=["get","getKey","getAll","getAllKeys","count"],Na=["put","add","delete","clear"],Ye=new Map;function kt(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Ye.get(t))return Ye.get(t);const a=t.replace(/FromIndex$/,""),r=t!==a,n=Na.includes(a);if(!(a in(r?IDBIndex:IDBObjectStore).prototype)||!(n||va.includes(a)))return;const c=function(m,...l){return V(this,null,function*(){const x=this.transaction(m,n?"readwrite":"readonly");let y=x.store;return r&&(y=y.index(l.shift())),(yield Promise.all([y[a](...l),n&&x.done]))[0]})};return Ye.set(t,c),c}$t(s=>j(g({},s),{get:(t,a,r)=>kt(t,a)||s.get(t,a,r),has:(t,a)=>!!kt(t,a)||s.has(t,a)}));const ka=["continue","continuePrimaryKey","advance"],wt={},st=new WeakMap,Ft=new WeakMap,wa={get(s,t){if(!ka.includes(t))return s[t];let a=wt[t];return a||(a=wt[t]=function(...r){st.set(this,Ft.get(this)[t](...r))}),a}};function Sa(...s){return ut(this,null,function*(){let t=this;if(t instanceof IDBCursor||(t=yield new Ie(t.openCursor(...s))),!t)return;t=t;const a=new Proxy(t,wa);for(Ft.set(a,t),Fe.set(a,tt(t));t;)yield a,t=yield new Ie(st.get(a)||t.continue()),st.delete(a)})}function St(s,t){return t===Symbol.asyncIterator&&Ze(s,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&Ze(s,[IDBIndex,IDBObjectStore])}$t(s=>j(g({},s),{get(t,a,r){return St(t,a)?Sa:s.get(t,a,r)},has(t,a){return St(t,a)||s.has(t,a)}}));class Ca{constructor(){this.db=null,this.DB_NAME="OrmenDB",this.DB_VERSION=1}init(){return V(this,null,function*(){try{this.db=yield ja(this.DB_NAME,this.DB_VERSION,{upgrade(t){const a=t.createObjectStore("customers",{keyPath:"id"});a.createIndex("by-name","name"),a.createIndex("by-company","company");const r=t.createObjectStore("products",{keyPath:"id"});r.createIndex("by-name","name"),r.createIndex("by-code","code"),r.createIndex("by-category","category");const n=t.createObjectStore("transactions",{keyPath:"id"});n.createIndex("by-customer","customerId"),n.createIndex("by-product","productId"),n.createIndex("by-date","createdAt");const c=t.createObjectStore("stockMovements",{keyPath:"id"});c.createIndex("by-product","productId"),c.createIndex("by-date","createdAt");const m=t.createObjectStore("stockItems",{keyPath:"id"});m.createIndex("by-name","name"),m.createIndex("by-location","location"),t.createObjectStore("settings",{keyPath:"id"})}})}catch(t){throw console.error("Database initialization failed:",t),t}})}ensureDB(){if(!this.db)throw new Error("Database not initialized");return this.db}getAll(t){return V(this,null,function*(){return yield this.ensureDB().getAll(t)})}get(t,a){return V(this,null,function*(){return yield this.ensureDB().get(t,a)})}add(t,a){return V(this,null,function*(){yield this.ensureDB().add(t,a)})}put(t,a){return V(this,null,function*(){yield this.ensureDB().put(t,a)})}delete(t,a){return V(this,null,function*(){yield this.ensureDB().delete(t,a)})}clear(t){return V(this,null,function*(){yield this.ensureDB().clear(t)})}getCustomersByName(t){return V(this,null,function*(){return yield this.ensureDB().transaction("customers","readonly").store.index("by-name").getAll(IDBKeyRange.bound(t,t+"￿"))})}getProductsByCategory(t){return V(this,null,function*(){return yield this.ensureDB().transaction("products","readonly").store.index("by-category").getAll(t)})}getTransactionsByCustomer(t){return V(this,null,function*(){return yield this.ensureDB().transaction("transactions","readonly").store.index("by-customer").getAll(t)})}getTransactionsByDateRange(t,a){return V(this,null,function*(){return yield this.ensureDB().transaction("transactions","readonly").store.index("by-date").getAll(IDBKeyRange.bound(t,a))})}createBackup(){return V(this,null,function*(){return{customers:yield this.getAll("customers"),products:yield this.getAll("products"),transactions:yield this.getAll("transactions"),stockMovements:yield this.getAll("stockMovements"),stockItems:yield this.getAll("stockItems"),settings:yield this.getAll("settings"),exportDate:new Date,version:"1.0.0"}})}restoreFromBackup(t){return V(this,null,function*(){const r=this.ensureDB().transaction(["customers","products","transactions","stockMovements","stockItems","settings"],"readwrite");try{if(yield Promise.all([r.objectStore("customers").clear(),r.objectStore("products").clear(),r.objectStore("transactions").clear(),r.objectStore("stockMovements").clear(),r.objectStore("stockItems").clear(),r.objectStore("settings").clear()]),t.customers)for(const n of t.customers)yield r.objectStore("customers").add(n);if(t.products)for(const n of t.products)yield r.objectStore("products").add(n);if(t.transactions)for(const n of t.transactions)yield r.objectStore("transactions").add(n);if(t.stockMovements)for(const n of t.stockMovements)yield r.objectStore("stockMovements").add(n);if(t.stockItems)for(const n of t.stockItems)yield r.objectStore("stockItems").add(n);if(t.settings)for(const n of t.settings)yield r.objectStore("settings").add(n);yield r.done}catch(n){throw r.abort(),n}})}getStorageSize(){return V(this,null,function*(){if("storage"in navigator&&"estimate"in navigator.storage){const t=yield navigator.storage.estimate();return{used:t.usage||0,quota:t.quota||0}}return{used:0,quota:0}})}}const Ta=new Ca,Re=class Re{static encrypt(t){try{return btoa(unescape(encodeURIComponent(t))).split("").reverse().join("")}catch(a){return console.error("Encryption failed:",a),t}}static decrypt(t){try{const a=t.split("").reverse().join("");return decodeURIComponent(escape(atob(a)))}catch(a){return console.error("Decryption failed:",a),t}}static createSession(){const t={timestamp:Date.now(),userId:"ORMEN_USER",expires:Date.now()+this.SESSION_TIMEOUT};localStorage.setItem("ormen_session",this.encrypt(JSON.stringify(t)))}static validateSession(){try{const t=localStorage.getItem("ormen_session");if(!t)return!1;const a=JSON.parse(this.decrypt(t));return Date.now()<a.expires}catch(t){return!1}}static extendSession(){try{const t=localStorage.getItem("ormen_session");if(!t)return;const a=JSON.parse(this.decrypt(t));a.expires=Date.now()+this.SESSION_TIMEOUT,localStorage.setItem("ormen_session",this.encrypt(JSON.stringify(a)))}catch(t){console.error("Session extension failed:",t)}}static clearSession(){localStorage.removeItem("ormen_session")}static sanitizeInput(t){return t.replace(/[<>]/g,"").replace(/javascript:/gi,"").replace(/on\w+=/gi,"").trim()}static validatePassword(t){return t.length<8?{isValid:!1,message:"Şifre en az 8 karakter olmalı"}:/[A-Z]/.test(t)?/[a-z]/.test(t)?/[0-9]/.test(t)?{isValid:!0,message:"Şifre güçlü"}:{isValid:!1,message:"Şifre en az bir rakam içermeli"}:{isValid:!1,message:"Şifre en az bir küçük harf içermeli"}:{isValid:!1,message:"Şifre en az bir büyük harf içermeli"}}static checkRateLimit(t){const a=`rate_limit_${t}`,r=JSON.parse(localStorage.getItem(a)||"[]"),n=Date.now(),c=n-5*60*1e3,m=r.filter(l=>l>c);return m.length>=5?!1:(m.push(n),localStorage.setItem(a,JSON.stringify(m)),!0)}static generateSecureId(){const t=new Uint8Array(16);return crypto.getRandomValues(t),Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}static hashData(t){return V(this,null,function*(){const r=new TextEncoder().encode(t),n=yield crypto.subtle.digest("SHA-256",r);return Array.from(new Uint8Array(n)).map(m=>m.toString(16).padStart(2,"0")).join("")})}static verifyDataIntegrity(t,a){return V(this,null,function*(){return(yield this.hashData(t))===a})}};Re.ENCRYPTION_KEY="ORMEN_SECURE_KEY_2025",Re.SESSION_TIMEOUT=30*60*1e3;let Be=Re;class fe{constructor(){this.events=[],this.userId="ORMEN_USER",this.isEnabled=!0,this.sessionId=this.generateSessionId(),this.loadStoredEvents(),this.setupAutoFlush()}static getInstance(){return fe.instance||(fe.instance=new fe),fe.instance}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}loadStoredEvents(){try{const t=localStorage.getItem("ormen_analytics_events");t&&(this.events=JSON.parse(t))}catch(t){console.error("Failed to load stored analytics events:",t)}}saveEvents(){try{localStorage.setItem("ormen_analytics_events",JSON.stringify(this.events))}catch(t){console.error("Failed to save analytics events:",t)}}setupAutoFlush(){setInterval(()=>{this.flushEvents()},5*60*1e3),window.addEventListener("beforeunload",()=>{this.flushEvents()})}track(t,a,r,n,c){if(!this.isEnabled)return;const m={event:t,category:a,action:r,label:n,value:c,timestamp:Date.now(),sessionId:this.sessionId,userId:this.userId};this.events.push(m),this.saveEvents(),this.events.length>=100&&this.flushEvents()}trackPageView(t){this.track("page_view","navigation","view",t)}trackUserAction(t,a){this.track("user_action","interaction",t,JSON.stringify(a))}trackPerformance(t,a,r="performance"){this.track("performance",r,t,void 0,a)}trackError(t,a){this.track("error","application","error",`${t.name}: ${t.message}`,a?a.length:void 0)}trackFeatureUsage(t,a){this.track("feature_usage",t,a)}getUsageStats(){const t={totalEvents:this.events.length,sessionEvents:this.events.filter(a=>a.sessionId===this.sessionId).length,categories:{},actions:{},timeRange:{start:this.events.length>0?Math.min(...this.events.map(a=>a.timestamp)):0,end:this.events.length>0?Math.max(...this.events.map(a=>a.timestamp)):0}};return this.events.forEach(a=>{t.categories[a.category]=(t.categories[a.category]||0)+1,t.actions[a.action]=(t.actions[a.action]||0)+1}),t}flushEvents(){this.events.length!==0&&(console.group("📊 ORMEN Analytics Report"),console.log("Events to flush:",this.events.length),console.log("Usage stats:",this.getUsageStats()),console.groupEnd(),this.events=[],this.saveEvents())}setEnabled(t){this.isEnabled=t,localStorage.setItem("ormen_analytics_enabled",t.toString())}clearData(){this.events=[],localStorage.removeItem("ormen_analytics_events")}}const oe=fe.getInstance(),Aa=()=>{oe.trackPageView(window.location.pathname),document.addEventListener("click",s=>{var a,r;const t=s.target;t.tagName==="BUTTON"&&oe.trackUserAction("button_click",{text:(a=t.textContent)==null?void 0:a.trim(),className:t.className}),t.tagName==="A"&&oe.trackUserAction("link_click",{href:t.href,text:(r=t.textContent)==null?void 0:r.trim()})}),document.addEventListener("submit",s=>{const t=s.target;oe.trackUserAction("form_submit",{action:t.action,method:t.method})})};class be{constructor(){this.metrics=new Map}static getInstance(){return be.instance||(be.instance=new be),be.instance}startMeasure(t){performance.mark(`${t}-start`)}endMeasure(t){const a=`${t}-start`;if(performance.getEntriesByName(a,"mark").length===0)return console.warn(`Performance mark '${a}' does not exist. Skipping measurement for '${t}'.`),0;performance.mark(`${t}-end`),performance.measure(t,`${t}-start`,`${t}-end`);const c=performance.getEntriesByName(t,"measure")[0].duration;this.metrics.has(t)||this.metrics.set(t,[]);const m=this.metrics.get(t);return m.push(c),m.length>100&&m.shift(),performance.clearMarks(`${t}-start`),performance.clearMarks(`${t}-end`),performance.clearMeasures(t),c}getAverageTime(t){const a=this.metrics.get(t);return!a||a.length===0?0:a.reduce((r,n)=>r+n,0)/a.length}getMetrics(){const t={};return this.metrics.forEach((a,r)=>{t[r]={average:this.getAverageTime(r),count:a.length,latest:a[a.length-1]||0}}),t}logPerformanceReport(){const t=this.getMetrics();console.group("🚀 ORMEN Performance Report"),Object.entries(t).forEach(([a,r])=>{console.log(`${a}: ${r.latest.toFixed(2)}ms (avg: ${r.average.toFixed(2)}ms, samples: ${r.count})`)}),console.groupEnd()}}const Ct="ormen_sync_queue",Ea=()=>{const[s,t]=u.useState(navigator.onLine),[a,r]=u.useState([]),[n,c]=u.useState(!1);u.useEffect(()=>{const S=localStorage.getItem(Ct);S&&r(JSON.parse(S))},[]),u.useEffect(()=>{localStorage.setItem(Ct,JSON.stringify(a))},[a]),u.useEffect(()=>{const S=()=>{t(!0),T.success("İnternet bağlantısı geri geldi"),a.length>0&&l()},k=()=>{t(!1),T.error("İnternet bağlantısı kesildi - Çevrimdışı modda çalışıyor")};return window.addEventListener("online",S),window.addEventListener("offline",k),()=>{window.removeEventListener("online",S),window.removeEventListener("offline",k)}},[a]);const m=u.useCallback(S=>{const k=j(g({},S),{id:crypto.randomUUID(),timestamp:Date.now()});r(z=>[...z,k]),s||T("Değişiklik kaydedildi - Çevrimiçi olduğunuzda senkronize edilecek",{icon:"📱"})},[s]),l=u.useCallback(()=>V(Me,null,function*(){if(!(a.length===0||n||!s)){c(!0);try{for(const S of a)yield new Promise(k=>setTimeout(k,100)),console.log("Syncing:",S);r([]),T.success(`${a.length} değişiklik senkronize edildi`)}catch(S){console.error("Sync failed:",S),T.error("Senkronizasyon başarısız - Tekrar denenecek")}finally{c(!1)}}}),[a,n,s]),x=u.useCallback(()=>{if(!s){T.error("Senkronizasyon için internet bağlantısı gerekli");return}l()},[l,s]),y=u.useCallback(()=>{r([]),T.success("Senkronizasyon kuyruğu temizlendi")},[]);return{isOnline:s,syncQueue:a,isSyncing:n,addToSyncQueue:m,manualSync:x,clearSyncQueue:y,pendingChanges:a.length}},Ma=()=>{const[s,t]=u.useState("dashboard"),[a,r]=u.useState(!1),{createBackup:n,restoreBackup:c}=xe(),{isOnline:m,pendingChanges:l}=Ea(),x=be.getInstance();u.useEffect(()=>{V(Me,null,function*(){x.startMeasure("app-initialization");try{yield Ta.init(),Be.validateSession()&&r(!0),Aa(),oe.trackPageView("app-start"),x.endMeasure("app-initialization")}catch(z){console.error("App initialization failed:",z),oe.trackError(z,"app-initialization")}})},[]);const y=k=>{k?(Be.createSession(),r(!0),oe.trackUserAction("login",{success:!0}),T.success("Başarıyla giriş yapıldı")):(oe.trackUserAction("login",{success:!1}),T.error("Giriş başarısız"))};if(u.useEffect(()=>{const k=()=>{try{n(),T.success("Yedek başarıyla oluşturuldu")}catch(f){T.error("Yedek oluşturulurken hata oluştu")}},z=()=>{const f=document.createElement("input");f.type="file",f.accept=".json",f.onchange=D=>{var E;const L=(E=D.target.files)==null?void 0:E[0];if(L){const $=new FileReader;$.onload=O=>{var p;try{const K=JSON.parse((p=O.target)==null?void 0:p.result);c(K),T.success("Yedek başarıyla geri yüklendi"),window.location.reload()}catch(K){T.error("Yedek dosyası geçersiz")}},$.readAsText(L)}},f.click()};return window.addEventListener("export-backup",k),window.addEventListener("import-backup",z),()=>{window.removeEventListener("export-backup",k),window.removeEventListener("import-backup",z)}},[n,c]),!a)return e.jsx(ws,{onLogin:y});const S=()=>{x.startMeasure(`page-render-${s}`);let k;switch(s){case"dashboard":return e.jsx(ft,{});case"customers":return e.jsx(la,{});case"products":return e.jsx(ia,{});case"stock":return e.jsx(oa,{});case"transactions":return e.jsx(ca,{});case"reports":return e.jsx(da,{});case"quotes":return e.jsx(ma,{});case"notes":return e.jsx(ua,{});case"settings":return e.jsx(xa,{});default:k=e.jsx(ft,{})}return x.endMeasure(`page-render-${s}`),oe.trackPageView(s),k};return e.jsx(Lt,{children:e.jsxs(Cs,{currentPage:s,onPageChange:k=>{t(k),oe.trackUserAction("navigation",{from:s,to:k})},children:[!m&&e.jsxs("div",{className:"bg-yellow-500 text-white px-4 py-2 text-center text-sm",children:["🔌 Çevrimdışı mod - ",l," değişiklik senkronizasyon bekliyor"]}),S()]})})},Da=()=>e.jsx(Lt,{children:e.jsxs(na,{children:[e.jsx(Ma,{}),e.jsx(gs,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#4ade80",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})});Je.createRoot(document.getElementById("root")).render(e.jsx(Qt.StrictMode,{children:e.jsx(Da,{})}))});export default Ia();
